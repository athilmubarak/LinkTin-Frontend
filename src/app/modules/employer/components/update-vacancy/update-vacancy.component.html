<h2 mat-dialog-title>
    {{ data ? 'Update Vacancy' : 'Create new vacancy' }}
</h2>
<mat-dialog-content>
    <form [formGroup]="vacancy_form" class="flex flex-col flex-auto p-6 sm:p-8 overflow-y-auto">
        <mat-form-field class="flex flex-col w-full">
            <mat-label>Job</mat-label>
            <input type="text" matInput formControlName="job" [matAutocomplete]="auto"
                (keyup)="filterJobs($event.target.value)">
            <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete" [displayWith]="displayFn">
                <mat-option *ngFor="let option of jobs" [value]="option">
                    {{ option?.name }}
                </mat-option>
            </mat-autocomplete>
        </mat-form-field>

        <mat-form-field class="flex flex-col w-full">
            <mat-label>Description</mat-label>
            <textarea matInput formControlName="description"></textarea>
        </mat-form-field>
        <mat-form-field class="flex flex-col w-full">
            <mat-label>Location</mat-label>
            <input matInput formControlName="location" />
        </mat-form-field>
        <mat-form-field class="flex flex-col w-full">
            <mat-label>Salary Range</mat-label>
            <input matInput formControlName="salary_range" />
        </mat-form-field>
        <mat-form-field class="flex flex-col w-full">
            <mat-label>Experience</mat-label>
            <input matInput formControlName="experience" />
        </mat-form-field>
        <mat-form-field class="flex flex-col w-full">
            <mat-label>Expected Notice Period</mat-label>
            <input matInput type="number" formControlName="expected_notice_period" />
            <mat-hint>Notice period in days</mat-hint>
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Application Starts From</mat-label>
            <input matInput [matDatepicker]="from_picker" formControlName="application_starts_from">
            <mat-datepicker-toggle matSuffix [for]="from_picker"></mat-datepicker-toggle>
            <mat-datepicker #from_picker></mat-datepicker>
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Due Date</mat-label>
            <input matInput [matDatepicker]="to_picker" formControlName="due_date">
            <mat-datepicker-toggle matSuffix [for]="to_picker"></mat-datepicker-toggle>
            <mat-datepicker #to_picker></mat-datepicker>
        </mat-form-field>
        <mat-form-field class="flex flex-col w-full">
            <mat-label>Vaccancy</mat-label>
            <input matInput type="number" formControlName="vaccancy_count" />
        </mat-form-field>

        <div class="flex flex-col w-full">
            <mat-label>Responsibilities</mat-label>
            <quill-editor class="mt-2" placeholder="Responsibilities" formControlName="responsibilities"
                [modules]="quillModules"></quill-editor>
        </div>

        <div class="flex flex-col w-full mt-2">
            <mat-label>Additional Qualifications</mat-label>
            <quill-editor class="mt-2" placeholder="Additional Qualifications"
                formControlName="additional_qualifications" [modules]="quillModules"></quill-editor>
        </div>

        <div class="flex flex-col w-full mt-2">
            <mat-label>Role Expectations</mat-label>
            <quill-editor class="mt-2" placeholder="Role Expectations" formControlName="role_expectations"
                [modules]="quillModules"></quill-editor>
        </div>
    </form>
</mat-dialog-content>
<mat-dialog-actions align="end">
    <button mat-button (click)="close()">Cancel</button>
    <button mat-raised-button color="primary">Submit</button>
</mat-dialog-actions>