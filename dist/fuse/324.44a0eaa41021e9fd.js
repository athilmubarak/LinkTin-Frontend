"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[324],{4324:(I,d,o)=>{o.r(d),o.d(d,{AuthSignUpModule:()=>ct});var g=o(4521),h=o(7423),A=o(7446),_=o(7322),l=o(5245),U=o(7531),i=o(773),S=o(5804),b=o(7775),J=o(2805),a=o(3075),q=o(8288),E=o(4485),Z=o(7579),x=o(8372),y=o(1884),t=o(5e3),Q=o(8951),w=o(2340),Y=o(520);let F=(()=>{class e{constructor(r){this.http=r,this.root_url=w.N.api_url}getUserTypes(){return this.http.get(`${this.root_url}/user/user-types/get`)}signUpUser(r){return this.http.post(`${this.root_url}/auth/sign-up`,r)}checkForEmailExistence(r){return this.http.post(`${this.root_url}/user/email/is-exist`,r)}checkForUserNameExistence(r){return this.http.post(`${this.root_url}/user/user-name/is-exist`,r)}}return e.\u0275fac=function(r){return new(r||e)(t.LFG(Y.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var k=o(7282),T=o(9808),$=o(2494),C=o(9814),v=o(6856),M=o(4107),O=o(508);function j(e,s){if(1&e&&(t.TgZ(0,"fuse-alert",28),t._uU(1),t.qZA()),2&e){const r=t.oxw();t.Q6J("appearance","outline")("showIcon",!1)("type",r.alert.type)("@shake","error"===r.alert.type),t.xp6(1),t.hij(" ",r.alert.message," ")}}function P(e,s){if(1&e&&(t.TgZ(0,"mat-radio-button",29),t._uU(1),t.qZA()),2&e){const r=s.$implicit;t.Q6J("value",r.user_type_id),t.xp6(1),t.hij(" ",null==r?null:r.user_type," ")}}function D(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Full name is required "),t.qZA())}function L(e,s){if(1&e&&(t.TgZ(0,"mat-form-field",15)(1,"mat-label"),t._uU(2,"Full name"),t.qZA(),t._UZ(3,"input",30),t.YNc(4,D,2,0,"mat-error",17),t.qZA()),2&e){const r=t.oxw();t.xp6(3),t.Q6J("formControlName","name"),t.xp6(1),t.Q6J("ngIf",r.sign_up_form.get("name").hasError("required"))}}function G(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Company name is required "),t.qZA())}function B(e,s){if(1&e&&(t.TgZ(0,"mat-form-field",15)(1,"mat-label"),t._uU(2,"Company Name"),t.qZA(),t._UZ(3,"input",31),t.YNc(4,G,2,0,"mat-error",17),t.qZA()),2&e){const r=t.oxw();t.xp6(4),t.Q6J("ngIf",r.sign_up_form.get("company_name").hasError("required"))}}function W(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Email address is required "),t.qZA())}function z(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a valid email address "),t.qZA())}function R(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," This email already exist, please choose another "),t.qZA())}function K(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Phone Number is required "),t.qZA())}function H(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Location is required "),t.qZA())}function X(e,s){if(1&e&&(t.TgZ(0,"mat-form-field",15)(1,"mat-label"),t._uU(2,"Location"),t.qZA(),t._UZ(3,"input",32),t.YNc(4,H,2,0,"mat-error",17),t.qZA()),2&e){const r=t.oxw();t.xp6(4),t.Q6J("ngIf",r.sign_up_form.get("location").hasError("required"))}}function V(e,s){if(1&e&&(t.TgZ(0,"mat-form-field",15)(1,"mat-label"),t._uU(2,"DOB"),t.qZA(),t._UZ(3,"input",33),t.TgZ(4,"mat-hint"),t._uU(5,"MM/DD/YYYY"),t.qZA(),t._UZ(6,"mat-datepicker-toggle",34)(7,"mat-datepicker",null,35),t.qZA()),2&e){const r=t.MAs(8);t.xp6(3),t.Q6J("matDatepicker",r),t.xp6(3),t.Q6J("for",r)}}function tt(e,s){if(1&e&&(t.TgZ(0,"mat-option",38),t._uU(1),t.qZA()),2&e){const r=s.$implicit;t.Q6J("value",null==r?null:r.gender_id),t.xp6(1),t.hij(" ",null==r?null:r.description," ")}}function et(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Gender is required "),t.qZA())}function rt(e,s){if(1&e&&(t.TgZ(0,"mat-form-field",15)(1,"mat-label"),t._uU(2,"Gender"),t.qZA(),t.TgZ(3,"mat-select",36),t.YNc(4,tt,2,2,"mat-option",37),t.qZA(),t.YNc(5,et,2,0,"mat-error",17),t.qZA()),2&e){const r=t.oxw();t.xp6(4),t.Q6J("ngForOf",null==r.shared_service?null:r.shared_service.genders),t.xp6(1),t.Q6J("ngIf",r.sign_up_form.get("gender_id").hasError("required"))}}function nt(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Username is required "),t.qZA())}function ot(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," This username already exist, please choose another "),t.qZA())}function it(e,s){1&e&&t._UZ(0,"mat-icon",39),2&e&&t.Q6J("svgIcon","heroicons_solid:eye")}function st(e,s){1&e&&t._UZ(0,"mat-icon",39),2&e&&t.Q6J("svgIcon","heroicons_solid:eye-off")}function at(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Password is required "),t.qZA())}function ut(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Password is required "),t.qZA())}function mt(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Password should match "),t.qZA())}function lt(e,s){1&e&&(t.TgZ(0,"span"),t._uU(1," Create new account "),t.qZA())}function pt(e,s){1&e&&t._UZ(0,"mat-progress-spinner",40),2&e&&t.Q6J("diameter",24)("mode","indeterminate")}const _t=function(){return["/sign-in"]},ft=[{path:"",component:(()=>{class e{constructor(r,n,p,u,m){this._authService=r,this.form_builder=n,this._router=p,this.sign_up_service=u,this.shared_service=m,this.alert={type:"success",message:""},this.showAlert=!1,this.email_input=new Z.x,this.username_input=new Z.x,this.email_input.pipe((0,x.b)(400),(0,y.x)()).subscribe({next:f=>{this.sign_up_service.checkForEmailExistence({email:f}).subscribe({next:c=>{c.success?this.sign_up_form.get("email").setErrors(null):this.sign_up_form.get("email").setErrors({isExist:!0})}})}}),this.username_input.pipe((0,x.b)(400),(0,y.x)()).subscribe({next:f=>{this.sign_up_service.checkForUserNameExistence({user_name:f}).subscribe({next:c=>{c.success?this.sign_up_form.get("user_name").setErrors(null):this.sign_up_form.get("user_name").setErrors({isExist:!0})}})}})}ngOnInit(){this.sign_up_form=this.form_builder.group({user_type_id:new a.NI(1,a.kI.required),email:new a.NI("",[a.kI.required,a.kI.email]),phone_number:new a.NI("",a.kI.required),user_name:new a.NI("",a.kI.required),password:new a.NI("",a.kI.required),password_confirm:new a.NI("",a.kI.required)},{validators:E.a.mustMatch("password","password_confirm")}),this.getUserTypes(),this.shared_service.getGenders(),this.onChangeUserType(1)}getUserTypes(){this.user_types=[],this.sign_up_service.getUserTypes().subscribe({next:r=>{console.log(r),this.user_types=r.data}})}onChangeUserType(r){const n=["name","dob","gender_id"],p=["company_name","location"];1===r?(p.forEach(u=>{this.sign_up_form.contains(u)&&this.sign_up_form.removeControl(u)}),n.forEach(u=>{this.sign_up_form.contains(u)||this.sign_up_form.addControl(u,new a.NI("",a.kI.required))})):(n.forEach(u=>{this.sign_up_form.contains(u)&&this.sign_up_form.removeControl(u)}),p.forEach(u=>{this.sign_up_form.contains(u)||this.sign_up_form.addControl(u,new a.NI("",a.kI.required))}))}signUp(){if(this.sign_up_form.invalid)return;this.sign_up_form.disable(),this.showAlert=!1;const r=Object.assign(Object.assign({},this.sign_up_form.value),{token:""});1===r.user_type_id?(r.company_name="",r.location=""):r.name="",this.sign_up_service.signUpUser(r).subscribe({next:n=>{console.log(n),this.alert={type:n.success?"success":"error",message:n.message},n.success&&(this.sign_up_form.reset(),this.onChangeUserType(1),this._authService.setUserAsLoggedIn(n.data),this._router.navigate([1===n.data.login_details.user_type_id?"/employee/my-account":"/employer/my-account"]))},complete:()=>this.sign_up_form.enable(),error:()=>this.sign_up_form.enable()})}checkEmail(r){this.sign_up_form.get("email").invalid||this.email_input.next(r)}checkUserName(r){this.sign_up_form.get("user_name").invalid||this.username_input.next(r)}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(Q.e),t.Y36(a.qu),t.Y36(g.F0),t.Y36(F),t.Y36(k.F))},e.\u0275cmp=t.Xpm({type:e,selectors:[["auth-sign-up"]],decls:60,vars:28,consts:[[1,"flex","items-center","justify-center","flex-auto","min-w-0"],[1,"md:flex","md:items-center","md:justify-end","w-full","sm:w-auto","md:h-full","md:w-1/2","py-8","px-4","sm:p-12","md:p-16","sm:rounded-2xl","md:rounded-none","sm:shadow","md:shadow-none","sm:bg-card"],[1,"w-full","mx-auto","sm:mx-0"],[1,"w-50"],["src","./assets/images/logo/logo.png",1,"rounded"],[1,"mt-8","text-4xl","font-extrabold","tracking-tight","leading-tight"],[1,"flex","items-baseline","mt-0.5","font-medium"],[1,"ml-1","text-primary-500","hover:underline",3,"routerLink"],["class","mt-8 -mb-4",3,"appearance","showIcon","type",4,"ngIf"],[1,"mt-8",3,"formGroup"],[1,"flex","flex-col","md:flex-row","w-full"],[1,"flex","flex-col","flex-1"],["formControlName","user_type_id",1,"mb-4",3,"change"],["color","primary","class","mr-2",3,"value",4,"ngFor","ngForOf"],["class","w-full",4,"ngIf"],[1,"w-full"],["id","email","matInput","",3,"formControlName","keyup"],[4,"ngIf"],["type","text","matInput","","formControlName","phone_number"],[1,"border-l-2","ml-6","flex","flex-col","flex-1","pl-4"],["matInput","","formControlName","user_name",3,"keyup"],["id","password","matInput","","type","password",3,"formControlName"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],["matInput","","type","password",3,"formControlName"],["mat-flat-button","",1,"fuse-mat-button-large","w-full","mt-6",3,"color","disabled","click"],[3,"diameter","mode",4,"ngIf"],[1,"mt-8","-mb-4",3,"appearance","showIcon","type"],["color","primary",1,"mr-2",3,"value"],["matInput","",3,"formControlName"],["matInput","","formControlName","company_name"],["type","text","matInput","","formControlName","location"],["matInput","","formControlName","dob",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["formControlName","gender_id"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"icon-size-5",3,"svgIcon"],[3,"diameter","mode"]],template:function(r,n){if(1&r){const p=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.qZA(),t.TgZ(5,"div",5),t._uU(6,"Sign up"),t.qZA(),t.TgZ(7,"div",6)(8,"div"),t._uU(9,"Already have an account?"),t.qZA(),t.TgZ(10,"a",7),t._uU(11,"Sign in "),t.qZA()(),t.YNc(12,j,2,5,"fuse-alert",8),t.TgZ(13,"form",9)(14,"div",10)(15,"div",11)(16,"mat-radio-group",12),t.NdJ("change",function(m){return n.onChangeUserType(m.value)}),t.YNc(17,P,2,2,"mat-radio-button",13),t.qZA(),t.YNc(18,L,5,2,"mat-form-field",14),t.YNc(19,B,5,1,"mat-form-field",14),t.TgZ(20,"mat-form-field",15)(21,"mat-label"),t._uU(22,"Email address"),t.qZA(),t.TgZ(23,"input",16),t.NdJ("keyup",function(m){return n.checkEmail(m.target.value)}),t.qZA(),t.YNc(24,W,2,0,"mat-error",17),t.YNc(25,z,2,0,"mat-error",17),t.YNc(26,R,2,0,"mat-error",17),t.qZA(),t.TgZ(27,"mat-form-field",15)(28,"mat-label"),t._uU(29,"Phone Number"),t.qZA(),t._UZ(30,"input",18),t.YNc(31,K,2,0,"mat-error",17),t.qZA(),t.YNc(32,X,5,1,"mat-form-field",14),t.YNc(33,V,9,2,"mat-form-field",14),t.YNc(34,rt,6,2,"mat-form-field",14),t.qZA(),t.TgZ(35,"div",19)(36,"mat-form-field",15)(37,"mat-label"),t._uU(38,"Username"),t.qZA(),t.TgZ(39,"input",20),t.NdJ("keyup",function(m){return n.checkUserName(m.target.value)}),t.qZA(),t.YNc(40,nt,2,0,"mat-error",17),t.YNc(41,ot,2,0,"mat-error",17),t.qZA(),t.TgZ(42,"mat-form-field",15)(43,"mat-label"),t._uU(44,"Password"),t.qZA(),t._UZ(45,"input",21,22),t.TgZ(47,"button",23),t.NdJ("click",function(){t.CHM(p);const m=t.MAs(46);return m.type="password"===m.type?"text":"password"}),t.YNc(48,it,1,1,"mat-icon",24),t.YNc(49,st,1,1,"mat-icon",24),t.qZA(),t.YNc(50,at,2,0,"mat-error",17),t.qZA(),t.TgZ(51,"mat-form-field",15)(52,"mat-label"),t._uU(53,"Confirm Password"),t.qZA(),t._UZ(54,"input",25),t.YNc(55,ut,2,0,"mat-error",17),t.YNc(56,mt,2,0,"mat-error",17),t.qZA()()(),t.TgZ(57,"button",26),t.NdJ("click",function(){return n.signUp()}),t.YNc(58,lt,2,0,"span",17),t.YNc(59,pt,1,2,"mat-progress-spinner",27),t.qZA()()()()()}if(2&r){const p=t.MAs(46);let u,m,f,c,N;t.xp6(10),t.Q6J("routerLink",t.DdM(27,_t)),t.xp6(2),t.Q6J("ngIf",n.showAlert),t.xp6(1),t.Q6J("formGroup",n.sign_up_form),t.xp6(4),t.Q6J("ngForOf",n.user_types),t.xp6(1),t.Q6J("ngIf",1===(null==n.sign_up_form||null==(u=n.sign_up_form.get("user_type_id"))?null:u.value)),t.xp6(1),t.Q6J("ngIf",2===(null==n.sign_up_form||null==(m=n.sign_up_form.get("user_type_id"))?null:m.value)),t.xp6(4),t.Q6J("formControlName","email"),t.xp6(1),t.Q6J("ngIf",n.sign_up_form.get("email").hasError("required")),t.xp6(1),t.Q6J("ngIf",n.sign_up_form.get("email").hasError("email")),t.xp6(1),t.Q6J("ngIf",n.sign_up_form.get("email").hasError("isExist")),t.xp6(5),t.Q6J("ngIf",n.sign_up_form.get("phone_number").hasError("required")),t.xp6(1),t.Q6J("ngIf",2===(null==n.sign_up_form||null==(f=n.sign_up_form.get("user_type_id"))?null:f.value)),t.xp6(1),t.Q6J("ngIf",1===(null==n.sign_up_form||null==(c=n.sign_up_form.get("user_type_id"))?null:c.value)),t.xp6(1),t.Q6J("ngIf",1===(null==n.sign_up_form||null==(N=n.sign_up_form.get("user_type_id"))?null:N.value)),t.xp6(6),t.Q6J("ngIf",n.sign_up_form.get("user_name").hasError("required")),t.xp6(1),t.Q6J("ngIf",n.sign_up_form.get("user_name").hasError("isExist")),t.xp6(4),t.Q6J("formControlName","password"),t.xp6(3),t.Q6J("ngIf","password"===p.type),t.xp6(1),t.Q6J("ngIf","text"===p.type),t.xp6(1),t.Q6J("ngIf",n.sign_up_form.get("password").hasError("required")),t.xp6(4),t.Q6J("formControlName","password_confirm"),t.xp6(1),t.Q6J("ngIf",n.sign_up_form.get("password_confirm").hasError("required")),t.xp6(1),t.Q6J("ngIf",n.sign_up_form.get("password_confirm").hasError("mustMatch")),t.xp6(1),t.Q6J("color","primary")("disabled",null==n.sign_up_form?null:n.sign_up_form.disabled),t.xp6(1),t.Q6J("ngIf",!(null!=n.sign_up_form&&n.sign_up_form.disabled)),t.xp6(1),t.Q6J("ngIf",null==n.sign_up_form?null:n.sign_up_form.disabled)}},directives:[g.yS,T.O5,$.W,a._Y,a.JL,a.sg,C.VQ,a.JJ,a.u,T.sg,C.U0,_.KE,_.hX,U.Nt,a.Fj,_.TO,v.hl,_.bx,v.nW,_.R9,v.Mq,M.gD,O.ey,h.lW,l.Hw,i.Ou],encapsulation:2,data:{animation:q.L}}),e})()}];let ct=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[g.Bz.forChild(ft),h.ot,A.p9,_.lN,l.Ps,U.c,i.Cq,S.J,b.fC,J.m]]}),e})()},7282:(I,d,o)=>{o.d(d,{F:()=>_});var g=o(2340),h=o(5e3),A=o(520);let _=(()=>{class l{constructor(i){this.http=i,this.root_url=g.N.api_url,this.genders=[],this.jobs=[],this.skills=[],this.account_types=[],this.countries=[]}getGenders(){this.genders.length>0||this.http.get(`${this.root_url}/user/genders/get`).subscribe({next:i=>{this.genders=i.data}})}getJobs(){this.jobs.length>0||this.http.get(`${this.root_url}/jobs/get`).subscribe({next:i=>{this.jobs=i.data}})}createNewJob(i){return this.http.post(`${this.root_url}/jobs/insert`,i)}getSkills(){this.skills.length>0||this.http.get(`${this.root_url}/skill/get`).subscribe({next:i=>{this.skills=i.data}})}createNewSkill(i){return this.http.post(`${this.root_url}/skills/insert`,i)}getAccountTypes(){this.account_types.length>0||this.http.get(`${this.root_url}/account/account-types/get`).subscribe({next:i=>{this.account_types=i.data}})}removeAttachment(i){return this.http.delete(`${this.root_url}/user/attachment/delete/${i}`)}removeOtherAccount(i){return this.http.delete(`${this.root_url}/user/other-account/delete/${i}`)}getCountries(){this.countries.length>0||this.http.get(`${this.root_url}/user/countries/get`).subscribe({next:i=>{console.log(i),this.countries=i.data}})}addNewOtherAccount(i){return this.http.post(`${this.root_url}/user/other-account/insert`,i)}updateOtherAccount(i){return this.http.put(`${this.root_url}/user/other-account/update`,i)}uploadFile(i){return this.http.post(`${this.root_url}/fileupload/upload`,i)}createNewAttachment(i){return this.http.post(`${this.root_url}/user/attachment/insert`,i)}}return l.\u0275fac=function(i){return new(i||l)(h.LFG(A.eN))},l.\u0275prov=h.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()}}]);