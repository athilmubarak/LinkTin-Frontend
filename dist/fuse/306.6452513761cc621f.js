"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[306],{9306:(ee,k,r)=>{r.r(k),r.d(k,{EmployeeModule:()=>Xt});var d=r(9808),U=r(4521),Z=r(7579),y=r(2722),a=r(3075),u=r(8966),p=r(2340),F=r(5080),t=r(5e3),h=r(7495),M=r(7282),J=r(4458),x=r(7261),f=r(7322),D=r(7531),N=r(4107),q=r(508),b=r(6856),v=r(7423);function Q(n,i){if(1&n&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.gender_id),t.xp6(1),t.hij(" ",e.description," ")}}function E(n,i){if(1&n&&(t.TgZ(0,"mat-option",24),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",e.country_id),t.xp6(1),t.hij(" ",e.country_name," ")}}function O(n,i){if(1&n&&t._UZ(0,"img",25),2&n){const e=t.oxw();t.Q6J("src",e.url+e.employee_form.get("profile_url").value,t.LSH)}}function $(n,i){if(1&n&&t._UZ(0,"img",25),2&n){const e=t.oxw();t.Q6J("src",e.url+e.employee_form.get("cover_url").value,t.LSH)}}let H=(()=>{class n{constructor(e,o,c,s,l,_,g,w){this.data=e,this.form_builder=o,this.user_service=c,this.shared_service=s,this.employee_service=l,this.dialog_ref=_,this.snack_bar=g,this.mat_dialog=w,this.url=p.N.url,this.employee_form=this.form_builder.group({gender_id:new a.NI("",a.kI.required),country_id:new a.NI("",a.kI.required),name:new a.NI("",a.kI.required),phone_number:new a.NI("",a.kI.required),dob:new a.NI("",a.kI.required),profile_url:new a.NI("",a.kI.required),cover_url:new a.NI(""),portfolio:new a.NI(""),about_us:new a.NI("",a.kI.required)}),this.shared_service.getGenders(),this.shared_service.getCountries()}ngOnInit(){this.employee_form.patchValue({gender_id:this.data.user_details.gender_id,country_id:this.data.user_details.country_id,name:this.data.user_details.name,phone_number:this.data.user_details.employee_phone_number,dob:this.data.user_details.dob,profile_url:this.data.user_details.profile_url,cover_url:this.data.user_details.employee_cover_url,portfolio:this.data.user_details.portfolio,about_us:this.data.user_details.employee_about_us})}updateEmployeeDetails(){this.employee_form.invalid||(this.employee_form.disable(),this.employee_service.updateEmployeeDetails(this.employee_form.value).subscribe({next:e=>{console.log(e),this.snack_bar.open(e.message,"Close",{duration:2e3,panelClass:e.success?"success-message":"error-message"}),e.success&&(this.user_service.user=null,this.user_service.user=e.data,this.dialog_ref.close())},complete:()=>this.employee_form.enable(),error:e=>{console.log(e),this.employee_form.enable()}}))}uploadImage(e){this.mat_dialog.open(F.Y,{disableClose:!0,data:{user:this.data,is_user_attachment:!1,accept:".jpg"},width:"500px"}).afterClosed().subscribe({next:c=>{var s;c&&c.success&&(null===(s=this.employee_form.get(e))||void 0===s||s.setValue(c.data))}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.WI),t.Y36(a.qu),t.Y36(h.K),t.Y36(M.F),t.Y36(J.G),t.Y36(u.so),t.Y36(x.ux),t.Y36(u.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-update-employee"]],decls:57,vars:9,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"w-full",3,"formGroup"],[1,"w-full"],["type","text","matInput","","formControlName","name"],[1,"flex","w-full"],["formControlName","gender_id"],[3,"value",4,"ngFor","ngForOf"],[1,"w-full","ml-2"],["formControlName","country_id"],["type","text","matInput","","formControlName","phone_number"],["matInput","","formControlName","dob",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","about_us","rows","4"],["type","text","matInput","","formControlName","portfolio"],[1,"flex","w-full","mt-2"],[1,"flex","flex-col","justify-center","w-full","items-center"],[1,"flex","bg-card","rounded","border-2","h-40","w-40","mb-1"],["class","w-40 rounded",3,"src",4,"ngIf"],["mat-flat-button","",3,"click"],["align","end"],["mat-button","","mat-dialog-close","",3,"disabled"],["mat-flat-button","","color","primary",3,"disabled","click"],[3,"value"],[1,"w-40","rounded",3,"src"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h2",0),t._uU(1,"Update User Details"),t.qZA(),t.TgZ(2,"mat-dialog-content",1)(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),t._uU(6,"Name"),t.qZA(),t._UZ(7,"input",4),t.qZA(),t.TgZ(8,"div",5)(9,"mat-form-field",3)(10,"mat-label"),t._uU(11,"Gender"),t.qZA(),t.TgZ(12,"mat-select",6),t.YNc(13,Q,2,2,"mat-option",7),t.qZA()(),t.TgZ(14,"mat-form-field",8)(15,"mat-label"),t._uU(16,"Country"),t.qZA(),t.TgZ(17,"mat-select",9),t.YNc(18,E,2,2,"mat-option",7),t.qZA()()(),t.TgZ(19,"div",5)(20,"mat-form-field",3)(21,"mat-label"),t._uU(22,"Phone Number"),t.qZA(),t._UZ(23,"input",10),t.qZA(),t.TgZ(24,"mat-form-field",8)(25,"mat-label"),t._uU(26,"DOB"),t.qZA(),t._UZ(27,"input",11),t.TgZ(28,"mat-hint"),t._uU(29,"MM/DD/YYYY"),t.qZA(),t._UZ(30,"mat-datepicker-toggle",12)(31,"mat-datepicker",null,13),t.qZA()(),t.TgZ(33,"mat-form-field",3)(34,"mat-label"),t._uU(35,"About Me"),t.qZA(),t._UZ(36,"textarea",14),t.qZA(),t.TgZ(37,"mat-form-field",3)(38,"mat-label"),t._uU(39,"Portfolio URL"),t.qZA(),t._UZ(40,"input",15),t.qZA(),t.TgZ(41,"div",16)(42,"div",17)(43,"div",18),t.YNc(44,O,1,1,"img",19),t.qZA(),t.TgZ(45,"button",20),t.NdJ("click",function(){return o.uploadImage("profile_url")}),t._uU(46," Change Profile Picture "),t.qZA()(),t.TgZ(47,"div",17)(48,"div",18),t.YNc(49,$,1,1,"img",19),t.qZA(),t.TgZ(50,"button",20),t.NdJ("click",function(){return o.uploadImage("cover_url")}),t._uU(51," Change Cover Picture "),t.qZA()()()()(),t.TgZ(52,"mat-dialog-actions",21)(53,"button",22),t._uU(54," Close "),t.qZA(),t.TgZ(55,"button",23),t.NdJ("click",function(){return o.updateEmployeeDetails()}),t._uU(56," Submit "),t.qZA()()),2&e){const c=t.MAs(32);t.xp6(3),t.Q6J("formGroup",o.employee_form),t.xp6(10),t.Q6J("ngForOf",o.shared_service.genders),t.xp6(5),t.Q6J("ngForOf",o.shared_service.countries),t.xp6(9),t.Q6J("matDatepicker",c),t.xp6(3),t.Q6J("for",c),t.xp6(14),t.Q6J("ngIf",o.employee_form.get("profile_url").value),t.xp6(5),t.Q6J("ngIf",o.employee_form.get("cover_url").value),t.xp6(4),t.Q6J("disabled",o.employee_form.disabled),t.xp6(2),t.Q6J("disabled",o.employee_form.disabled)}},directives:[u.uh,u.xY,a._Y,a.JL,a.sg,f.KE,f.hX,D.Nt,a.Fj,a.JJ,a.u,N.gD,d.sg,q.ey,b.hl,f.bx,b.nW,f.R9,b.Mq,d.O5,v.lW,u.H8,u.ZT],styles:[""]}),n})();var S=r(6863),I=r(1683),R=r(9602),C=r(5245),A=r(6688),Y=r(7238);function B(n,i){if(1&n&&(t.TgZ(0,"a",34),t._uU(1," View Portfolio "),t.qZA()),2&n){const e=t.oxw();t.Q6J("href",e.user.user_details.portfolio,t.LSH)}}function L(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"mat-chip",38),t.NdJ("removed",function(){const s=t.CHM(e).index;return t.oxw(2).removeDetails("skills",s)}),t._uU(1),t._UZ(2,"mat-icon",39),t.qZA()}if(2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e.skill," ")}}function W(n,i){if(1&n&&(t.TgZ(0,"div",35)(1,"mat-chip-list",36),t.YNc(2,L,3,1,"mat-chip",37),t.qZA()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.user.skill)}}function P(n,i){1&n&&(t.TgZ(0,"div",40),t._UZ(1,"img",41),t.TgZ(2,"div",42),t._uU(3,' No skills yet. Click the "Add" button on the right to add one. '),t.qZA()())}function z(n,i){1&n&&(t.ynx(0),t._uU(1," Present "),t.BQk())}function G(n,i){if(1&n&&(t._uU(0),t.ALo(1,"date")),2&n){const e=t.oxw().$implicit;t.hij(" ",t.xi3(1,1,e.relieving_date,"MMM yyyy")," ")}}function V(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",44)(1,"div",12)(2,"div",45),t._uU(3),t.qZA(),t.TgZ(4,"div",3)(5,"button",46),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).onClickDetails("experiences",s)}),t._UZ(6,"mat-icon",15),t.qZA(),t.TgZ(7,"button",47),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw(2).removeDetails("experiences",s)}),t._UZ(8,"mat-icon",48),t.qZA()()(),t.TgZ(9,"div",49),t._uU(10),t.qZA(),t.TgZ(11,"div",50),t._uU(12),t.ALo(13,"date"),t.YNc(14,z,2,0,"ng-container",51),t.YNc(15,G,2,4,"ng-template",null,52,t.W1O),t.qZA(),t.TgZ(17,"div",50),t._uU(18),t.qZA()()}if(2&n){const e=i.$implicit,o=t.MAs(16);t.xp6(3),t.hij(" ",e.job_name," "),t.xp6(7),t.hij(" ",e.company," "),t.xp6(2),t.hij(" ",t.xi3(13,6,e.joining_date,"MMM yyyy")," - "),t.xp6(2),t.Q6J("ngIf",e.is_currently_working)("ngIfElse",o),t.xp6(4),t.hij(" ",e.location," ")}}function X(n,i){if(1&n&&(t.TgZ(0,"div",35),t.YNc(1,V,19,9,"div",43),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.user.experiences)}}function K(n,i){1&n&&(t.TgZ(0,"div",40),t._UZ(1,"img",41),t.TgZ(2,"div",42),t._uU(3,' No experiences yet. Click the "Add" button on the right to add one. '),t.qZA()())}function tt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",44)(1,"div",12)(2,"div",45),t._uU(3),t.qZA(),t.TgZ(4,"div",3)(5,"button",46),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).onClickDetails("educations",s)}),t._UZ(6,"mat-icon",15),t.qZA(),t.TgZ(7,"button",47),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw(2).removeDetails("educations",s)}),t._UZ(8,"mat-icon",48),t.qZA()()(),t.TgZ(9,"div",49),t._uU(10),t.qZA(),t.TgZ(11,"div",50),t._uU(12),t.qZA()()}if(2&n){const e=i.$implicit;t.xp6(3),t.hij(" ",e.institution," "),t.xp6(7),t.hij(" ",e.description," "),t.xp6(2),t.hij(" ",e.academic_year," ")}}function et(n,i){if(1&n&&(t.TgZ(0,"div",35),t.YNc(1,tt,13,3,"div",43),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.user.educations)}}function nt(n,i){1&n&&(t.TgZ(0,"div",40),t._UZ(1,"img",41),t.TgZ(2,"div",42),t._uU(3,' No educations yet. Click the "Add" button on the right to add one. '),t.qZA()())}function ot(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",44)(1,"div",12)(2,"div",45),t._uU(3),t.qZA(),t.TgZ(4,"div",3)(5,"button",46),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).onClickDetails("certifications",s)}),t._UZ(6,"mat-icon",15),t.qZA(),t.TgZ(7,"button",47),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw(2).removeDetails("certifications",s)}),t._UZ(8,"mat-icon",48),t.qZA()()(),t.TgZ(9,"div",50),t._uU(10),t.qZA()()}if(2&n){const e=i.$implicit;t.xp6(3),t.hij(" ",e.certificate_name," "),t.xp6(7),t.hij(" ",e.description," ")}}function it(n,i){if(1&n&&(t.TgZ(0,"div",35),t.YNc(1,ot,11,2,"div",43),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.user.certifications)}}function ct(n,i){1&n&&(t.TgZ(0,"div",40),t._UZ(1,"img",41),t.TgZ(2,"div",42),t._uU(3,' No certificates yet. Click the "Add" button on the right to add one. '),t.qZA()())}function st(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"a",55)(2,"button",56),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw(2).removeDetails("attachments",s)}),t._UZ(3,"mat-icon",57),t.qZA(),t.TgZ(4,"div",58),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).viewAttachment(s)}),t.TgZ(5,"div",59)(6,"div",60),t._UZ(7,"mat-icon",61),t.TgZ(8,"div",62),t._uU(9),t.qZA()()()(),t.TgZ(10,"div",63)(11,"div",64),t._uU(12),t.qZA()()(),t.BQk()}if(2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(7),t.Q6J("svgIcon","iconsmind:file"),t.xp6(1),t.ekj("bg-red-600","PDF"===o.returnFile(e,"file-type"))("bg-amber-600","JPG"===o.returnFile(e,"file-type")),t.xp6(1),t.hij(" ",o.returnFile(e,"file-type")," "),t.xp6(2),t.Q6J("matTooltip",o.returnFile(e,"name")),t.xp6(1),t.hij(" ",o.returnFile(e,"name")," ")}}function lt(n,i){if(1&n&&(t.TgZ(0,"div",53),t.YNc(1,st,13,8,"ng-container",54),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.user.attachments)}}function rt(n,i){1&n&&(t.TgZ(0,"div",40),t._UZ(1,"img",41),t.TgZ(2,"div",42),t._uU(3,' No attachments yet. Click the "Add" button on the right to add one. '),t.qZA()())}function at(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",44)(1,"div",12)(2,"div",65),t._UZ(3,"img",66),t.qZA(),t.TgZ(4,"div",67),t._uU(5),t.qZA(),t.TgZ(6,"div",3)(7,"button",46),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).onClickDetails("other_accounts",s)}),t._UZ(8,"mat-icon",68),t.qZA(),t.TgZ(9,"button",47),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw(2).removeDetails("other_accounts",s)}),t._UZ(10,"mat-icon",69),t.qZA(),t.TgZ(11,"button",14),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).goToAccount(s)}),t._UZ(12,"mat-icon",70),t.qZA()()()()}if(2&n){const e=i.$implicit;t.xp6(3),t.Q6J("src",e.logo,t.LSH),t.xp6(2),t.hij(" ",e.account_name," ")}}function _t(n,i){if(1&n&&(t.TgZ(0,"div",35),t.YNc(1,at,13,2,"div",43),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.user.other_accounts)}}function ut(n,i){1&n&&(t.TgZ(0,"div",40),t._UZ(1,"img",41),t.TgZ(2,"div",42),t._uU(3,' No accounts yet. Click the "Add" button on the right to add one. '),t.qZA()())}function mt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",44)(1,"div",12)(2,"div",45),t._uU(3),t.qZA(),t.TgZ(4,"div",3)(5,"button",46),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).onClickDetails("licenses",s)}),t._UZ(6,"mat-icon",15),t.qZA(),t.TgZ(7,"button",47),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw(2).removeDetails("licenses",s)}),t._UZ(8,"mat-icon",48),t.qZA()()(),t.TgZ(9,"div",50),t._uU(10),t.qZA()()}if(2&n){const e=i.$implicit;t.xp6(3),t.hij(" ",e.license_name," "),t.xp6(7),t.hij(" ",e.description," ")}}function dt(n,i){if(1&n&&(t.TgZ(0,"div",35),t.YNc(1,mt,11,2,"div",43),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.user.licenses)}}function pt(n,i){1&n&&(t.TgZ(0,"div",40),t._UZ(1,"img",41),t.TgZ(2,"div",42),t._uU(3,' No licenses yet. Click the "Add" button on the right to add one. '),t.qZA()())}function ft(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",44)(1,"div",12)(2,"div",45),t._uU(3),t.qZA(),t.TgZ(4,"div",3)(5,"button",46),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).onClickDetails("references",s)}),t._UZ(6,"mat-icon",15),t.qZA(),t.TgZ(7,"button",47),t.NdJ("click",function(){const s=t.CHM(e).index;return t.oxw(2).removeDetails("references",s)}),t._UZ(8,"mat-icon",48),t.qZA()()(),t.TgZ(9,"div",71),t._UZ(10,"mat-icon",72),t.TgZ(11,"div",73),t._uU(12),t.qZA()(),t.TgZ(13,"div",19),t._UZ(14,"mat-icon",74),t.TgZ(15,"div",73),t._uU(16),t.qZA()()()}if(2&n){const e=i.$implicit;t.xp6(3),t.hij(" ",e.reference_name," "),t.xp6(9),t.hij(" ",e.email," "),t.xp6(4),t.hij(" ",e.phone_number," ")}}function gt(n,i){if(1&n&&(t.TgZ(0,"div",35),t.YNc(1,ft,17,3,"div",43),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.user.references)}}function ht(n,i){1&n&&(t.TgZ(0,"div",40),t._UZ(1,"img",41),t.TgZ(2,"div",42),t._uU(3,' No references yet. Click the "Add" button on the right to add one. '),t.qZA()())}let xt=(()=>{class n{constructor(e,o,c,s,l,_,g){this.user_service=e,this.change_detector_ref=o,this.shared_service=c,this.employee_service=s,this.confirm_service=l,this.mat_dialog=_,this.snack_bar=g,this.url=p.N.url,this._unsubscribeAll=new Z.x,this.shared_service.getSkills()}ngOnInit(){this.user_service.user$.pipe((0,y.R)(this._unsubscribeAll)).subscribe({next:e=>{this.user=e,this.change_detector_ref.markForCheck()}})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}removeDetails(e,o){if(o>=0){let c;switch(e){case"attachments":c=this.shared_service.removeAttachment(this.user.attachments[o].attachment_id);break;case"certifications":c=this.employee_service.removeCertification(this.user.certifications[o].certification_id);break;case"educations":c=this.employee_service.removeEducation(this.user.educations[o].id);break;case"experiences":c=this.employee_service.removeExperience(this.user.experiences[o].id);break;case"licenses":c=this.employee_service.removeLicense(this.user.licenses[o].license_id);break;case"other_accounts":c=this.shared_service.removeOtherAccount(this.user.other_accounts[o].other_account_id);break;case"references":c=this.employee_service.removeReference(this.user.references[o].reference_id);break;case"skills":c=this.employee_service.removeSkill(this.user.skill[o].employee_skill_id)}c&&this.confirm_service.open({title:"Confirmation",message:`Do you want to remove this ${e.slice(0,e.length-1)}. This cannot be undone.`,icon:{show:!1},actions:{confirm:{show:!0,label:"Confirm",color:"primary"},cancel:{show:!0,label:"Cancel"}},dismissible:!1}).afterClosed().subscribe({next:l=>{"confirmed"===l&&c.subscribe({next:_=>{console.log(_),this.snack_bar.open(_.message,"Close",{duration:2e3,panelClass:_.success?"success-message":"error-message"}),_.success&&(this.user["skills"===e?"skill":e].splice(o,1),this.user_service.user=this.user)},error:_=>this.showErrorMessage(_)})}})}}showErrorMessage(e){console.log(e),this.snack_bar.open("Your request cannot be processed at this time. Please try again later.","Close",{duration:2e3,panelClass:"error-message"})}onClickEmployeeDetails(){this.mat_dialog.open(H,{disableClose:!0,width:"700px",data:this.user})}onClickDetails(e,o){const c=S.r.find(l=>l.array_type===e),s={user:this.user};c&&("skills"!==e&&(s[c.key]="attachments"===e||o),"attachments"===e&&(s.accept=".pdf"),this.mat_dialog.open(c.component,{disableClose:!0,width:c.width,data:s}))}returnFile(e,o){return"file-type"===o?e.attachment_name.slice(e.attachment_name.length-3).toUpperCase():e.attachment_name.slice(0,e.attachment_name.length-4)}viewAttachment(e){window.open(`${this.url}${e.attachment_url}`,"_blank")}goToAccount(e){window.open(e.account_url,"_blank")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(h.K),t.Y36(t.sBO),t.Y36(M.F),t.Y36(J.G),t.Y36(I.R),t.Y36(u.uw),t.Y36(x.ux))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-my-account"]],decls:120,vars:29,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","shadow","bg-card"],["alt","Cover image",1,"h-40","lg:h-80","object-cover",3,"src"],[1,"flex"],[1,"flex","flex-col","flex-0","lg:flex-row","items-center","max-w-5xl","w-full","mx-auto","px-8","lg:h-18","bg-card"],[1,"-mt-26","lg:-mt-22","rounded-full"],["alt","Logo",1,"w-32","h-32","rounded-full","ring-4","ring-bg-card",3,"src"],[1,"flex","flex-col","items-center","lg:items-start","mt-4","lg:mt-0","lg:ml-8"],[1,"text-lg","font-bold","leading-none","mb-4"],[1,"text-secondary"],[1,"lg:flex","flex-col","items-start","mt-4","mx-14"],[1,"flex","flex-col","w-full","p-8"],[1,"flex","justify-between","items-center"],[1,"text-2xl","font-semibold","leading-tight"],["mat-icon-button","",3,"click"],["svgIcon","mat_outline:edit"],[1,"mt-4"],[1,"w-full","border-t","my-6"],[1,"flex","justify-evenly"],[1,"flex","items-center"],[1,"icon-size-5","mr-3",3,"svgIcon"],[1,"leading-none"],["target","_blank","rel","noopener noreferrer","class","cursor-pointer",3,"href",4,"ngIf"],["svgIcon","mat_outline:add_circle_outline"],["class","flex flex-col md:flex-row w-full flex-wrap",4,"ngIf","ngIfElse"],["noSkills",""],["noExperiences",""],["noEducation",""],["noCertifications",""],["class","flex flex-row md:flex-row w-full flex-wrap",4,"ngIf","ngIfElse"],["noAttachments",""],["noAccounts",""],["noLicenses",""],["noReferences",""],["target","_blank","rel","noopener noreferrer",1,"cursor-pointer",3,"href"],[1,"flex","flex-col","md:flex-row","w-full","flex-wrap"],[1,"flex","flex-wrap"],[3,"removed",4,"ngFor","ngForOf"],[3,"removed"],["matChipRemove","","svgIcon","mat_solid:cancel",1,"cursor-pointer"],[1,"flex","flex-col","w-full","justify-center","items-center"],["src","./assets/images/ui/angular-material/scenes/undraw_no_data_re_kwbl.svg","alt","",1,"w-50"],[1,"flex","flex-col","items-center","font-bold","mt-2"],["class","flex flex-col rounded border-2 px-4 p-2 mr-2 my-1",4,"ngFor","ngForOf"],[1,"flex","flex-col","rounded","border-2","px-4","p-2","mr-2","my-1"],[1,"flex","font-bold","text-lg"],["mat-icon-button","",1,"mr-1",3,"click"],["mat-icon-button","","color","warn",3,"click"],["svgIcon","mat_outline:delete_outline"],[1,"flex","font-semibold"],[1,"flex","text-secondary"],[4,"ngIf","ngIfElse"],["endDate",""],[1,"flex","flex-row","md:flex-row","w-full","flex-wrap"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","w-40","h-50","m-2","p-4","shadow","rounded-2xl","cursor-pointer","bg-card","border-2","my-1"],["mat-icon-button","","color","primary",1,"delete-button",3,"click"],["svgIcon","mat_outline:delete"],[1,"aspect-w-9","aspect-h-6",3,"click"],[1,"flex","items-center","justify-center"],[1,"flex","flex-col","justify-center"],[1,"icon-size-14","text-hint","mx-auto",3,"svgIcon"],[1,"flex","justify-center","mt-2","px-1.5","rounded","text-sm","font-semibold","leading-5","text-white"],[1,"flex","flex-col","flex-auto","justify-center","text-center","text-sm","font-medium"],[1,"truncate",3,"matTooltip"],[1,"flex","mr-2"],["alt","",1,"w-10","rounded",3,"src"],[1,"flex","font-semibold","text-lg"],["svgIcon","mat_outline:edit",1,"icon-size-5"],["svgIcon","mat_outline:delete_outline",1,"icon-size-5"],["svgIcon","mat_solid:link",1,"icon-size-5"],[1,"flex","mb-2","items-center"],["svgIcon","mat_solid:email",1,"icon-size-4"],[1,"flex","font-semibold","text-secondary","ml-2"],["svgIcon","mat_solid:phone",1,"icon-size-4"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div"),t._UZ(3,"img",2),t.qZA(),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5),t._UZ(7,"img",6),t.qZA(),t.TgZ(8,"div",7)(9,"div",8),t._uU(10),t.qZA(),t.TgZ(11,"div",9),t._uU(12),t.qZA()()()()(),t.TgZ(13,"div",10)(14,"fuse-card",11)(15,"div",12)(16,"div",13),t._uU(17,"About Me"),t.qZA(),t.TgZ(18,"button",14),t.NdJ("click",function(){return o.onClickEmployeeDetails()}),t._UZ(19,"mat-icon",15),t.qZA()(),t.TgZ(20,"div",16),t._uU(21),t.qZA(),t._UZ(22,"hr",17),t.TgZ(23,"div",18)(24,"div",19),t._UZ(25,"mat-icon",20),t.TgZ(26,"span",21),t._uU(27),t.qZA()(),t.TgZ(28,"div",19),t._UZ(29,"mat-icon",20),t.TgZ(30,"span",21),t._uU(31),t.qZA()(),t.TgZ(32,"div",19),t._UZ(33,"mat-icon",20),t.TgZ(34,"span",21),t._uU(35),t.qZA()(),t.TgZ(36,"div",19),t._UZ(37,"mat-icon",20),t.TgZ(38,"span",21),t.YNc(39,B,2,1,"a",22),t.qZA()()()()(),t.TgZ(40,"div",10)(41,"fuse-card",11)(42,"div",12)(43,"div",13),t._uU(44,"Skills"),t.qZA(),t.TgZ(45,"button",14),t.NdJ("click",function(){return o.onClickDetails("skills")}),t._UZ(46,"mat-icon",23),t.qZA()(),t.YNc(47,W,3,1,"div",24),t.YNc(48,P,4,0,"ng-template",null,25,t.W1O),t.qZA()(),t.TgZ(50,"div",10)(51,"fuse-card",11)(52,"div",12)(53,"div",13),t._uU(54," Experiences "),t.qZA(),t.TgZ(55,"button",14),t.NdJ("click",function(){return o.onClickDetails("experiences")}),t._UZ(56,"mat-icon",23),t.qZA()(),t.YNc(57,X,2,1,"div",24),t.YNc(58,K,4,0,"ng-template",null,26,t.W1O),t.qZA()(),t.TgZ(60,"div",10)(61,"fuse-card",11)(62,"div",12)(63,"div",13),t._uU(64," Education "),t.qZA(),t.TgZ(65,"button",14),t.NdJ("click",function(){return o.onClickDetails("educations")}),t._UZ(66,"mat-icon",23),t.qZA()(),t.YNc(67,et,2,1,"div",24),t.YNc(68,nt,4,0,"ng-template",null,27,t.W1O),t.qZA()(),t.TgZ(70,"div",10)(71,"fuse-card",11)(72,"div",12)(73,"div",13),t._uU(74," Certificates "),t.qZA(),t.TgZ(75,"button",14),t.NdJ("click",function(){return o.onClickDetails("certifications")}),t._UZ(76,"mat-icon",23),t.qZA()(),t.YNc(77,it,2,1,"div",24),t.YNc(78,ct,4,0,"ng-template",null,28,t.W1O),t.qZA()(),t.TgZ(80,"div",10)(81,"fuse-card",11)(82,"div",12)(83,"div",13),t._uU(84," Attachments "),t.qZA(),t.TgZ(85,"button",14),t.NdJ("click",function(){return o.onClickDetails("attachments")}),t._UZ(86,"mat-icon",23),t.qZA()(),t.YNc(87,lt,2,1,"div",29),t.YNc(88,rt,4,0,"ng-template",null,30,t.W1O),t.qZA()(),t.TgZ(90,"div",10)(91,"fuse-card",11)(92,"div",12)(93,"div",13),t._uU(94," Social Accounts "),t.qZA(),t.TgZ(95,"button",14),t.NdJ("click",function(){return o.onClickDetails("other_accounts")}),t._UZ(96,"mat-icon",23),t.qZA()(),t.YNc(97,_t,2,1,"div",24),t.YNc(98,ut,4,0,"ng-template",null,31,t.W1O),t.qZA()(),t.TgZ(100,"div",10)(101,"fuse-card",11)(102,"div",12)(103,"div",13),t._uU(104,"Licenses"),t.qZA(),t.TgZ(105,"button",14),t.NdJ("click",function(){return o.onClickDetails("licenses")}),t._UZ(106,"mat-icon",23),t.qZA()(),t.YNc(107,dt,2,1,"div",24),t.YNc(108,pt,4,0,"ng-template",null,32,t.W1O),t.qZA()(),t.TgZ(110,"div",10)(111,"fuse-card",11)(112,"div",12)(113,"div",13),t._uU(114," References "),t.qZA(),t.TgZ(115,"button",14),t.NdJ("click",function(){return o.onClickDetails("references")}),t._UZ(116,"mat-icon",23),t.qZA()(),t.YNc(117,gt,2,1,"div",24),t.YNc(118,ht,4,0,"ng-template",null,33,t.W1O),t.qZA()()()),2&e){const c=t.MAs(49),s=t.MAs(59),l=t.MAs(69),_=t.MAs(79),g=t.MAs(89),w=t.MAs(99),Kt=t.MAs(109),te=t.MAs(119);t.xp6(3),t.Q6J("src",o.url+o.user.user_details.employee_cover_url,t.LSH),t.xp6(4),t.Q6J("src",o.user.user_details.profile_url?o.url+o.user.user_details.profile_url:"assets/images/avatars/male-04.jpg",t.LSH),t.xp6(3),t.hij(" ",o.user.user_details.name," "),t.xp6(2),t.hij(" ",o.user.user_details.employee_email," "),t.xp6(9),t.hij(" ",o.user.user_details.employee_about_us," "),t.xp6(4),t.Q6J("svgIcon","mat_outline:location_on"),t.xp6(2),t.hij(" ",o.user.user_details.country_name," "),t.xp6(2),t.Q6J("svgIcon","mat_solid:phone"),t.xp6(2),t.hij(" ",o.user.user_details.employee_phone_number," "),t.xp6(2),t.Q6J("svgIcon","mat_outline:transgender"),t.xp6(2),t.hij(" ",o.user.user_details.description," "),t.xp6(2),t.Q6J("svgIcon","mat_solid:web"),t.xp6(2),t.Q6J("ngIf",o.user.user_details.portfolio),t.xp6(8),t.Q6J("ngIf",o.user.skill.length>0)("ngIfElse",c),t.xp6(10),t.Q6J("ngIf",o.user.experiences.length>0)("ngIfElse",s),t.xp6(10),t.Q6J("ngIf",o.user.educations.length>0)("ngIfElse",l),t.xp6(10),t.Q6J("ngIf",o.user.certifications.length>0)("ngIfElse",_),t.xp6(10),t.Q6J("ngIf",o.user.attachments.length>0)("ngIfElse",g),t.xp6(10),t.Q6J("ngIf",o.user.other_accounts.length>0)("ngIfElse",w),t.xp6(10),t.Q6J("ngIf",o.user.licenses.length>0)("ngIfElse",Kt),t.xp6(10),t.Q6J("ngIf",o.user.references.length>0)("ngIfElse",te)}},directives:[R.y,v.lW,C.Hw,d.O5,A.qn,d.sg,A.HS,A.qH,Y.gM],pipes:[d.uU],styles:[".delete-button[_ngcontent-%COMP%]{position:relative;top:-20px;right:-100px;opacity:0}a[_ngcontent-%COMP%]:hover   .delete-button[_ngcontent-%COMP%]{opacity:1}"]}),n})(),vt=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-find-jobs"]],decls:2,vars:0,template:function(e,o){1&e&&(t.TgZ(0,"p"),t._uU(1,"find-jobs works!"),t.qZA())},styles:[""]}),n})();var m=r(4999),T=r(4847),Zt=r(520);let j=(()=>{class n{constructor(e){this.http=e,this.root_url=p.N.api_url}getAllJobVacancies(){return this.http.get(`${this.root_url}/job_vacancy/sync/getv1`)}deleteJob(e){return this.http.delete(`${this.root_url}/job_vacancy/sync/delete/${e}`)}updateAttachment(e,o){return this.http.put(`${this.root_url}/job_vacancy/sync/attachment/update/${e}`,o)}updateRequestStatus(e,o){return this.http.put(`${this.root_url}/job_vacancy/sync/status/update/${e}`,{status:o})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Zt.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yt(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"a")(2,"div",10),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).selected_attachment_id=s.attachment_id}),t.TgZ(3,"div",11)(4,"div",12),t._UZ(5,"mat-icon",13),t.TgZ(6,"div",14),t._uU(7),t.qZA()()()(),t.TgZ(8,"div",15)(9,"div",16),t._uU(10),t.qZA()(),t.TgZ(11,"div",17)(12,"button",18),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw(2).viewAttachment(s)}),t._uU(13," View "),t.qZA()()(),t.BQk()}if(2&n){const e=i.$implicit,o=t.oxw(2);t.xp6(1),t.Gre("flex flex-col w-40 h-50 m-2 p-4 shadow rounded-2xl cursor-pointer bg-card border-2 my-1 ",o.selected_attachment_id===e.attachment_id?"border-2 border-primary-500":"",""),t.xp6(4),t.Q6J("svgIcon","iconsmind:file"),t.xp6(1),t.ekj("bg-red-600","PDF"===o.returnFile(e,"file-type"))("bg-amber-600","JPG"===o.returnFile(e,"file-type")),t.xp6(1),t.hij(" ",o.returnFile(e,"file-type")," "),t.xp6(2),t.Q6J("matTooltip",o.returnFile(e,"name")),t.xp6(1),t.hij(" ",o.returnFile(e,"name")," ")}}function bt(n,i){if(1&n&&(t.TgZ(0,"div",8),t.YNc(1,yt,14,11,"ng-container",9),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.attachments)}}function Ct(n,i){1&n&&(t.TgZ(0,"div",19),t._UZ(1,"img",20),t.TgZ(2,"div",21),t._uU(3," No attachments yet. "),t.qZA()())}let At=(()=>{class n{constructor(e,o,c,s,l,_){this.data=e,this.my_job_service=o,this.user_service=c,this._changeDetectorRef=s,this.dialog_ref=l,this.snack_bar=_,this.attachments=[],this.url=p.N.url,this._unsubscribeAll=new Z.x}ngOnInit(){this.selected_attachment_id=this.data.item.resume_attachment_id,this.user_service.user$.pipe((0,y.R)(this._unsubscribeAll)).subscribe(e=>{this.attachments=e.attachments,this._changeDetectorRef.markForCheck()})}updateAttachment(){[void 0,null,0].includes(this.selected_attachment_id)||this.my_job_service.updateAttachment(this.data.item.sync_registry_id,{resume_attachment_id:this.selected_attachment_id}).subscribe({next:e=>{console.log(e),this.snack_bar.open(e.message,"Close",{duration:2e3,panelClass:e.success?"success-message":"error-message"}),e.success&&this.dialog_ref.close({success:!0,data:this.attachments.find(o=>o.attachment_id===this.selected_attachment_id)})}})}returnFile(e,o){return"file-type"===o?e.attachment_name.slice(e.attachment_name.length-3).toUpperCase():e.attachment_name.slice(0,e.attachment_name.length-4)}viewAttachment(e){window.open(`${this.url}${e.attachment_url}`,"_blank")}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.WI),t.Y36(j),t.Y36(h.K),t.Y36(t.sBO),t.Y36(u.so),t.Y36(x.ux))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dialog"]],decls:12,vars:2,consts:[["mat-dialog-title","",1,"text-center","text-xl","font-medium"],["mat-dialog-content",""],[1,"flex","flex-row","flex-wrap","items-start","mt-8"],["class","flex flex-row md:flex-row w-full flex-wrap",4,"ngIf","ngIfElse"],["noAttachments",""],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"],[1,"flex","flex-row","md:flex-row","w-full","flex-wrap"],[4,"ngFor","ngForOf"],[1,"aspect-w-9","aspect-h-6",3,"click"],[1,"flex","items-center","justify-center"],[1,"flex","flex-col","justify-center"],[1,"icon-size-14","text-hint","mx-auto",3,"svgIcon"],[1,"flex","justify-center","mt-2","px-1.5","rounded","text-sm","font-semibold","leading-5","text-white"],[1,"flex","flex-col","flex-auto","justify-center","text-center","text-sm","font-medium"],[1,"truncate",3,"matTooltip"],[1,"flex","justify-center","mt-2"],["mat-flat-button","",3,"click"],[1,"flex","flex-col","w-full","justify-center","items-center"],["src","./assets/images/ui/angular-material/scenes/undraw_no_data_re_kwbl.svg","alt","",1,"w-50"],[1,"flex","flex-col","items-center","font-bold","mt-2"]],template:function(e,o){if(1&e&&(t.TgZ(0,"h1",0),t._uU(1," Choose your attachment\n"),t.qZA(),t.TgZ(2,"div",1)(3,"div",2),t.YNc(4,bt,2,1,"div",3),t.YNc(5,Ct,4,0,"ng-template",null,4,t.W1O),t.qZA()(),t.TgZ(7,"mat-dialog-actions",5)(8,"button",6),t._uU(9,"Close"),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return o.updateAttachment()}),t._uU(11," Submit "),t.qZA()()),2&e){const c=t.MAs(6);t.xp6(4),t.Q6J("ngIf",o.attachments.length>0)("ngIfElse",c)}},directives:[u.uh,u.xY,d.O5,d.sg,C.Hw,Y.gM,v.lW,u.H8,u.ZT],styles:[""]}),n})();var Tt=r(5900);function wt(n,i){if(1&n&&(t.TgZ(0,"mat-option",22),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("value",i.index),t.xp6(1),t.hij(" ",e," ")}}function kt(n,i){1&n&&(t.TgZ(0,"th",23),t._uU(1,"Sl"),t.qZA())}function Ut(n,i){if(1&n&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&n){const e=i.index;t.xp6(1),t.hij(" ",e+1," ")}}function Mt(n,i){1&n&&(t.TgZ(0,"th",23),t._uU(1,"Position"),t.qZA())}function Jt(n,i){if(1&n&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.jobName," ")}}function Nt(n,i){1&n&&(t.TgZ(0,"th",25),t._uU(1," Company name "),t.qZA())}function qt(n,i){if(1&n&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.hij(" ",e.applied_user_id===o.user.user_details.user_id?e.approved_user_Name:e.applied_user_Name," ")}}function It(n,i){1&n&&(t.TgZ(0,"th",25),t._uU(1," Applied / Requested on "),t.qZA())}function Yt(n,i){if(1&n&&(t.TgZ(0,"td",24),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",t.xi3(2,1,null==e?null:e.applied_date,"MM/dd/yyyy")," ")}}function jt(n,i){1&n&&(t.TgZ(0,"th",25),t._uU(1," status "),t.qZA())}function Ft(n,i){if(1&n&&(t.TgZ(0,"td",24),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",null==e?null:e.statusName," ")}}function Dt(n,i){1&n&&t._UZ(0,"th",23)}function Qt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const c=t.oxw().$implicit;return t.oxw().openDialog(c)}),t._UZ(1,"mat-icon",31),t.qZA()}}function Et(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const c=t.oxw().$implicit;return t.oxw().redirectUrl(c)}),t._UZ(1,"mat-icon",32),t.qZA()}}function Ot(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const c=t.oxw().$implicit;return t.oxw().deleteJob(c)}),t._UZ(1,"mat-icon",34),t.qZA()}}function $t(n,i){if(1&n&&(t.TgZ(0,"a",35),t._UZ(1,"mat-icon",36),t.qZA()),2&n){const e=t.oxw().$implicit,o=t.oxw();t.MGl("href","mailto:",(null==e?null:e.approved_user_id)===o.user.user_details.user_id?null==e?null:e.applied_user_Email:null==e?null:e.approved_user_Email,"",t.LSH)}}function Ht(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",27),t.NdJ("click",function(){t.CHM(e);const c=t.oxw().$implicit;return t.oxw().updateStatus(c,1)}),t._UZ(1,"mat-icon",37),t.qZA()}2&n&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:check-circle"))}function St(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",33),t.NdJ("click",function(){t.CHM(e);const c=t.oxw().$implicit;return t.oxw().updateStatus(c,0)}),t._UZ(1,"mat-icon",38),t.qZA()}2&n&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:x-circle"))}function Rt(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"td",24),t.YNc(1,Qt,2,0,"button",26),t.YNc(2,Et,2,0,"button",26),t.TgZ(3,"button",27),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().viewVacancy(s)}),t._UZ(4,"mat-icon",28),t.qZA(),t.YNc(5,Ot,2,0,"button",29),t.YNc(6,$t,2,1,"a",30),t.YNc(7,Ht,2,1,"button",26),t.YNc(8,St,2,1,"button",29),t.qZA()}if(2&n){const e=i.$implicit,o=t.oxw();t.xp6(1),t.Q6J("ngIf",2===e.status),t.xp6(1),t.Q6J("ngIf",e.resume_attachment_id),t.xp6(3),t.Q6J("ngIf",(null==e?null:e.applied_user_id)===o.user.user_details.user_id&&2===e.status),t.xp6(1),t.Q6J("ngIf",1===e.status),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.approved_user_id)===o.user.user_details.user_id&&2===e.status),t.xp6(1),t.Q6J("ngIf",(null==e?null:e.approved_user_id)===o.user.user_details.user_id&&2===e.status)}}function Bt(n,i){1&n&&t._UZ(0,"tr",39)}function Lt(n,i){1&n&&t._UZ(0,"tr",40)}function Wt(n,i){if(1&n&&(t.TgZ(0,"tr",41)(1,"td",42),t._uU(2," No Records Found "),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.uIk("colspan",e.displayed_columns.length)}}const Pt=function(){return["All","Applied Jobs","Approached by company"]},zt=[{path:"my-account",component:xt},{path:"find-jobs",component:vt},{path:"my-jobs",component:(()=>{class n{constructor(e,o,c,s,l,_){this.myJobs_service=e,this._changeDetectorRef=o,this.confirmation_dialog=c,this.dialog=s,this._userService=l,this.snack_bar=_,this.filter_type=0,this.my_jobs=[],this.url=p.N.url,this.data_source=new m.by,this.displayed_columns=["sl","jobName","company_name","applied_date","statusName","admin"],this._unsubscribeAll=new Z.x}ngOnInit(){this.getVacancies(),this._userService.user$.pipe((0,y.R)(this._unsubscribeAll)).subscribe(e=>{this.user=e,this._changeDetectorRef.markForCheck()})}filterDataByType(){let e=[];0===this.filter_type?e=this.my_jobs:1===this.filter_type?e=this.my_jobs.filter(o=>o.applied_user_id===this.user.user_details.user_id):2===this.filter_type&&(e=this.my_jobs.filter(o=>o.approved_user_id===this.user.user_details.user_id)),this.data_source=new m.by(e),this.data_source.sort=this.sort}getVacancies(){this.data_source=new m.by,this.my_jobs=[],this.myJobs_service.getAllJobVacancies().subscribe({next:e=>{console.log(e),this.data_source=new m.by(e.data),this.data_source.sort=this.sort,this.my_jobs=e.data}})}redirectUrl(e){window.open(this.url+e.attachment_url,"_blank")}deleteJob(e){this.confirmation_dialog.open({title:"Remove Job Request",message:"Are you sure you want to delete this cancel this job application ? This action cannot be undone. Click 'Confirm' to proceed with the deletion, or 'Cancel' to return to the job request.",icon:{show:!1},actions:{confirm:{show:!0,label:"Confirm",color:"primary"},cancel:{show:!0,label:"Cancel"}},dismissible:!1}).afterClosed().subscribe({next:c=>{"confirmed"===c&&this.myJobs_service.deleteJob(e.sync_registry_id).subscribe({next:s=>{if(console.log(s),this.snack_bar.open(s.message,"Close",{duration:2e3,panelClass:s.success?"success-message":"error-message"}),s.success){const l=this.my_jobs.findIndex(_=>_.sync_registry_id===e.sync_registry_id);l>=0&&(this.my_jobs.splice(l,1),this.filterDataByType())}}})}})}openDialog(e){this.dialog.open(At,{width:"800px",data:{item:e},disableClose:!0}).afterClosed().subscribe({next:c=>{c&&c.success&&(this.my_jobs=this.my_jobs.map(s=>s.sync_registry_id===e.sync_registry_id?Object.assign(Object.assign({},s),{resume_attachment_id:c.data.attachment_id,attachment_url:c.data.attachment_url}):s),this.filterDataByType())}})}viewVacancy(e){this.dialog.open(Tt.M,{disableClose:!0,data:{vacancy_id:e.vacancy_id},width:"640px"})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}updateStatus(e,o){this.myJobs_service.updateRequestStatus(e.sync_registry_id,o).subscribe({next:c=>{console.log(c),this.snack_bar.open(c.message,"Close",{duration:2e3,panelClass:c.success?"success-message":"error-message"}),c.success&&(this.my_jobs=this.my_jobs.map(s=>s.sync_registry_id===e.sync_registry_id?Object.assign(Object.assign({},s),{status:o,statusName:1===o?"Approved":"Rejected"}):s),this.filterDataByType())}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(j),t.Y36(t.sBO),t.Y36(I.R),t.Y36(u.uw),t.Y36(h.K),t.Y36(x.ux))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-my-jobs"]],viewQuery:function(e,o){if(1&e&&t.Gf(T.YE,7),2&e){let c;t.iGM(c=t.CRH())&&(o.sort=c.first)}},decls:31,vars:6,consts:[[1,"flex","flex-col","w-full","mx-6","my-3"],[1,"flex","flex-row","justify-end","w-full","px-4","py-9"],[1,"flex","sm:flex-row","items-end","w-full","max-w-xs","sm:max-w-none"],[1,"fuse-mat-no-subscript","w-full","sm:w-36"],[3,"value","valueChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","gap-8","w-full","mt-4"],[1,"xl:col-span-3","mt-2","flex","flex-col","flex-auto","overflow-hidden"],[1,"overflow-x-auto","mx-6"],["mat-table","","matSort","",1,"w-full","bg-transparent",3,"dataSource"],["matColumnDef","sl"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","jobName"],["matColumnDef","company_name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","applied_date"],["matColumnDef","statusName"],["matColumnDef","admin"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button","",3,"click"],["svgIcon","mat_outline:visibility"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["class","mx-2",3,"href",4,"ngIf"],["svgIcon","mat_outline:edit"],["svgIcon","mat_outline:attach_file"],["mat-icon-button","","color","warn",3,"click"],["svgIcon","mat_outline:delete"],[1,"mx-2",3,"href"],["svgIcon","mat_solid:email"],[1,"icon-size-5","text-green-300",3,"svgIcon"],[1,"icon-size-5",3,"svgIcon"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],[1,"mat-cell","font-semibold","text-red-500","text-center"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-select",4),t.NdJ("valueChange",function(s){return o.filter_type=s})("selectionChange",function(){return o.filterDataByType()}),t.YNc(5,wt,2,2,"mat-option",5),t.qZA()()()(),t.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"table",9),t.ynx(10,10),t.YNc(11,kt,2,0,"th",11),t.YNc(12,Ut,2,1,"td",12),t.BQk(),t.ynx(13,13),t.YNc(14,Mt,2,0,"th",11),t.YNc(15,Jt,2,1,"td",12),t.BQk(),t.ynx(16,14),t.YNc(17,Nt,2,0,"th",15),t.YNc(18,qt,2,1,"td",12),t.BQk(),t.ynx(19,16),t.YNc(20,It,2,0,"th",15),t.YNc(21,Yt,3,4,"td",12),t.BQk(),t.ynx(22,17),t.YNc(23,jt,2,0,"th",15),t.YNc(24,Ft,2,1,"td",12),t.BQk(),t.ynx(25,18),t.YNc(26,Dt,1,0,"th",11),t.YNc(27,Rt,9,6,"td",12),t.BQk(),t.YNc(28,Bt,1,0,"tr",19),t.YNc(29,Lt,1,0,"tr",20),t.YNc(30,Wt,3,1,"tr",21),t.qZA()()()()()),2&e&&(t.xp6(4),t.Q6J("value",o.filter_type),t.xp6(1),t.Q6J("ngForOf",t.DdM(5,Pt)),t.xp6(4),t.Q6J("dataSource",o.data_source),t.xp6(19),t.Q6J("matHeaderRowDef",o.displayed_columns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayed_columns))},directives:[f.KE,N.gD,d.sg,q.ey,m.BZ,T.YE,m.w1,m.fO,m.ge,m.Dz,m.ev,T.nU,d.O5,v.lW,C.Hw,m.as,m.XQ,m.nj,m.Gk,m.Ee],pipes:[d.uU],styles:[""]}),n})()}];let Gt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[U.Bz.forChild(zt)],U.Bz]}),n})();var Vt=r(2805);let Xt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[d.ez,Gt,Vt.m]]}),n})()}}]);