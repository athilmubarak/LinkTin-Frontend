"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[557],{7557:(Le,Y,u)=>{u.r(Y),u.d(Y,{EmployeeModule:()=>$e});var p=u(9808),I=u(4521),a=u(3075),U=u(7579),D=u(2722),l=u(8966),e=u(5e3),g=u(7495),A=u(7282),q=u(2340),E=u(520);let v=(()=>{class o{constructor(t){this.http=t,this.root_url=q.N.api_url}getAllCountries(){return this.http.get(`${this.root_url}/user/countries/get`)}getEducationTypes(){return this.http.get(`${this.root_url}/education/education-types/get`)}removeExperience(t){return this.http.delete(`${this.root_url}/user/experience/delete/${t}`)}removeEducation(t){return this.http.delete(`${this.root_url}/user/education/delete/${t}`)}removeSkill(t){return this.http.delete(`${this.root_url}/user/skill/delete/${t}`)}removeCertification(t){return this.http.delete(`${this.root_url}/user/certification/delete/${t}`)}removeLicense(t){return this.http.delete(`${this.root_url}/user/license/delete/${t}`)}removeReference(t){return this.http.delete(`${this.root_url}/user/reference/delete/${t}`)}updateEmployeeDetails(t,i){return this.http.put(`${this.root_url}/user/employee/update/${i}`,t)}createExperience(t){return this.http.post(`${this.root_url}/user/experience/insert`,t)}updateExperience(t){return this.http.put(`${this.root_url}/user/experience/update`,t)}createEducation(t){return this.http.post(`${this.root_url}/user/education/insert`,t)}updateEducation(t){return this.http.put(`${this.root_url}/user/education/update`,t)}createNewUserSkill(t){return this.http.post(`${this.root_url}/user/skill/insert`,t)}createNewCertification(t){return this.http.post(`${this.root_url}/user/certification/insert`,t)}updateCertification(t){return this.http.put(`${this.root_url}/user/certification/update`,t)}createNewLicense(t){return this.http.post(`${this.root_url}/user/license/insert`,t)}updateLicense(t){return this.http.put(`${this.root_url}/user/license/update`,t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(E.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var h=u(7423);let $=(()=>{class o{constructor(t,i,n,r,c,d){this.data=t,this.form_builder=i,this.user_service=n,this.shared_service=r,this.employee_service=c,this.dialog_ref=d,this.alert={type:"success",message:""},this.employee_form=this.form_builder.group({gender_id:new a.NI("",a.kI.required),country_id:new a.NI("",a.kI.required),name:new a.NI("",a.kI.required),phone_number:new a.NI("",a.kI.required),dob:new a.NI("",a.kI.required),profile_url:new a.NI("",a.kI.required),cover_url:new a.NI(""),portfolio:new a.NI(""),about_us:new a.NI("",a.kI.required)})}ngOnInit(){this.employee_form.patchValue({gender_id:this.data.user_details.gender_id,country_id:this.data.user_details.country_id,name:this.data.user_details.name,phone_number:this.data.user_details.employee_phone_number,dob:this.data.user_details.dob,profile_url:this.data.user_details.profile_url,cover_url:this.data.user_details.employee_cover_url,portfolio:this.data.user_details.portfolio,about_us:this.data.user_details.employee_about_us})}updateEmployeeDetails(){this.employee_form.invalid||(this.employee_form.disable(),this.employee_service.updateEmployeeDetails(this.employee_form.value,this.data.user_details.user_id).subscribe({next:t=>{console.log(t),t.success?(this.user_service.user=t.data,this.dialog_ref.close()):(this.show_alert=!0,this.alert={type:"error",message:t.message})},complete:()=>this.employee_form.enable(),error:t=>{console.log(t),this.employee_form.enable()}}))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l.WI),e.Y36(a.qu),e.Y36(g.K),e.Y36(A.F),e.Y36(v),e.Y36(l.so))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-update-employee"]],decls:6,vars:0,consts:[["mat-dialog-title",""],[1,"mat-typography"],["align","end"],["mat-button","","mat-dialog-close",""]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Update User Details"),e.qZA(),e._UZ(2,"mat-dialog-content",1),e.TgZ(3,"mat-dialog-actions",2)(4,"button",3),e._uU(5,"Close"),e.qZA()())},directives:[l.uh,l.xY,l.H8,h.lW,l.ZT],styles:[""]}),o})();var C=u(5439),L=u.t(C,2),S=u.n(C),f=u(508);const y=C||L,j=new e.OlP("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function W(){return{useUtc:!1}}});function R(o,s){const t=Array(o);for(let i=0;i<o;i++)t[i]=s(i);return t}let H=(()=>{class o extends f._A{constructor(t,i){super(),this._options=i,this.setLocale(t||y.locale())}setLocale(t){super.setLocale(t);let i=y.localeData(t);this._localeData={firstDayOfWeek:i.firstDayOfWeek(),longMonths:i.months(),shortMonths:i.monthsShort(),dates:R(31,n=>this.createDate(2017,0,n+1).format("D")),longDaysOfWeek:i.weekdays(),shortDaysOfWeek:i.weekdaysShort(),narrowDaysOfWeek:i.weekdaysMin()}}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDate(t){return this.clone(t).date()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){return"long"==t?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(t){return"long"==t?this._localeData.longDaysOfWeek:"short"==t?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(t){return this.clone(t).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}clone(t){return t.clone().locale(this.locale)}createDate(t,i,n){const r=this._createMoment({year:t,month:i,date:n}).locale(this.locale);return r.isValid(),r}today(){return this._createMoment().locale(this.locale)}parse(t,i){return t&&"string"==typeof t?this._createMoment(t,i,this.locale):t?this._createMoment(t).locale(this.locale):null}format(t,i){return t=this.clone(t),this.isValid(t),t.format(i)}addCalendarYears(t,i){return this.clone(t).add({years:i})}addCalendarMonths(t,i){return this.clone(t).add({months:i})}addCalendarDays(t,i){return this.clone(t).add({days:i})}toIso8601(t){return this.clone(t).format()}deserialize(t){let i;if(t instanceof Date)i=this._createMoment(t).locale(this.locale);else if(this.isDateInstance(t))return this.clone(t);if("string"==typeof t){if(!t)return null;i=this._createMoment(t,y.ISO_8601).locale(this.locale)}return i&&this.isValid(i)?this._createMoment(i).locale(this.locale):super.deserialize(t)}isDateInstance(t){return y.isMoment(t)}isValid(t){return this.clone(t).isValid()}invalid(){return y.invalid()}_createMoment(t,i,n){const{strict:r,useUtc:c}=this._options||{};return c?y.utc(t,i,n,r):y(t,i,n,r)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(f.Ad,8),e.LFG(j,8))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac}),o})();var x=u(7261),_=u(7322),Z=u(7531),T=u(1079),M=u(5245),k=u(6856),V=u(7446);function B(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"mat-icon",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveNewJob()}),e.qZA()}}function G(o,s){if(1&o&&(e.TgZ(0,"mat-option",22),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",null==t?null:t.name," ")}}function X(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"mat-form-field",3)(1,"mat-label"),e._uU(2,"Relieving Date"),e.qZA(),e._UZ(3,"input",23)(4,"mat-datepicker-toggle",12),e.TgZ(5,"mat-datepicker",13,24),e.NdJ("monthSelected",function(n){e.CHM(t);const r=e.MAs(6);return e.oxw().setMonthAndYear(n,r,"relieving_date")}),e.qZA(),e.TgZ(7,"mat-hint"),e._uU(8,"MM/YYYY"),e.qZA()()}if(2&o){const t=e.MAs(6);e.xp6(3),e.Q6J("matDatepicker",t),e.xp6(1),e.Q6J("for",t)}}const w=S()||C,z={parse:{dateInput:"MM/YYYY"},display:{dateInput:"MM/YYYY",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let K=(()=>{class o{constructor(t,i,n,r,c,d,b){this.form_builder=t,this.user_service=i,this.employee_service=n,this.shared_service=r,this.dialog_ref=c,this.snack_bar=d,this.data=b,this.jobs=[],this.shared_service.getJobs(),this.experience_form=this.form_builder.group({job:new a.NI("",a.kI.required),company:new a.NI("",a.kI.required),location:new a.NI("",a.kI.required),joining_date:new a.NI(w(),a.kI.required),relieving_date:new a.NI(w()),is_currently_working:new a.NI(""),display_order:new a.NI("")}),setTimeout(()=>{this.filterJobs("")},2e3)}ngOnInit(){if(this.data.experience){const t=this.shared_service.jobs.find(i=>i.job_id===this.data.experience.job_id);this.experience_form.patchValue({job:t,company:this.data.experience.company,location:this.data.experience.location,joining_date:w(this.data.experience.joining_date),relieving_date:w(this.data.experience.relieving_date),is_currently_working:this.data.experience.is_currently_working,display_order:this.data.experience.display_order})}else this.experience_form.patchValue({is_currently_working:!1,display_order:1})}saveExperience(){if(this.experience_form.invalid)return;const t={job_id:this.experience_form.get("job").value.job_id,company:this.experience_form.get("company").value,location:this.experience_form.get("location").value,joining_date:this.experience_form.get("joining_date").value,relieving_date:this.experience_form.get("relieving_date").value,is_currently_working:this.experience_form.get("is_currently_working").value,display_order:this.experience_form.get("display_order").value,position:"",id:this.data.experience?this.data.experience.id:void 0};let i;i=this.data.experience?this.employee_service.updateExperience(t):this.employee_service.createExperience(t),i.subscribe({next:n=>{console.log(n),this.snack_bar.open(n.message,"Close",{duration:2e3,panelClass:n.success?"success-message":"error-message"}),n.success&&(this.data.experience?this.data.user.experiences=this.data.user.experiences.map(r=>r.id===n.data.id?n.data:r):this.data.user.experiences.push(n.data),this.user_service.user=this.data.user,this.dialog_ref.close())}})}filterJobs(t){this.jobs=[void 0,null,""," "].includes(t)?[...this.shared_service.jobs]:this.shared_service.jobs.filter(i=>i.name.toLowerCase().includes(t.toLowerCase()))}displayFn(t){return t&&t.name?t.name:""}showDoneButtonForJob(){return![null,void 0,""," "].includes(this.experience_form.get("job").value)&&0===this.jobs.length}saveNewJob(){this.shared_service.createNewJob({name:this.experience_form.get("job").value}).subscribe({next:t=>{console.log(t),t.success&&(this.experience_form.get("job").setValue(t.data),this.jobs=[t.data],this.shared_service.jobs.push(t.data))}})}setMonthAndYear(t,i,n){const r=this.experience_form.get(n).value;r.month(t.month()),r.year(t.year()),this.experience_form.get(n).setValue(r),i.close()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.qu),e.Y36(g.K),e.Y36(v),e.Y36(A.F),e.Y36(l.so),e.Y36(x.ux),e.Y36(l.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-experience"]],features:[e._Bn([{provide:f._A,useClass:H,deps:[f.Ad,j]},{provide:f.sG,useValue:z}])],decls:38,vars:9,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"flex","flex-col","flex-auto","p-6","sm:p-8","overflow-y-auto",3,"formGroup"],[1,"flex","flex-col","w-full"],["type","text","matInput","","formControlName","job",3,"matAutocomplete","keyup"],["class","cursor-pointer","matSuffix","","svgIcon","mat_solid:check_circle",3,"click",4,"ngIf"],["autoActiveFirstOption","",3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","company"],["matInput","","formControlName","location"],["matInput","","formControlName","joining_date",3,"matDatepicker"],["matSuffix","",3,"for"],["startView","multi-year",3,"monthSelected"],["from_picker",""],[1,"example-section","mb-4"],["formControlName","is_currently_working","color","primary"],["class","flex flex-col w-full",4,"ngIf"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"],["matSuffix","","svgIcon","mat_solid:check_circle",1,"cursor-pointer",3,"click"],[3,"value"],["matInput","","formControlName","relieving_date",3,"matDatepicker"],["to_picker",""]],template:function(t,i){if(1&t){const n=e.EpF();e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content",1)(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),e._uU(6,"Job"),e.qZA(),e.TgZ(7,"input",4),e.NdJ("keyup",function(c){return i.filterJobs(c.target.value)}),e.qZA(),e.YNc(8,B,1,0,"mat-icon",5),e.TgZ(9,"mat-autocomplete",6,7),e.YNc(11,G,2,2,"mat-option",8),e.qZA()(),e.TgZ(12,"mat-form-field",3)(13,"mat-label"),e._uU(14,"Company"),e.qZA(),e._UZ(15,"input",9),e.qZA(),e.TgZ(16,"mat-form-field",3)(17,"mat-label"),e._uU(18,"Location"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.TgZ(20,"mat-form-field",3)(21,"mat-label"),e._uU(22,"Joining Date"),e.qZA(),e._UZ(23,"input",11)(24,"mat-datepicker-toggle",12),e.TgZ(25,"mat-datepicker",13,14),e.NdJ("monthSelected",function(c){e.CHM(n);const d=e.MAs(26);return i.setMonthAndYear(c,d,"joining_date")}),e.qZA(),e.TgZ(27,"mat-hint"),e._uU(28,"MM/YYYY"),e.qZA()(),e.TgZ(29,"section",15)(30,"mat-checkbox",16),e._uU(31," Currently Working "),e.qZA()(),e.YNc(32,X,9,2,"mat-form-field",17),e.qZA()(),e.TgZ(33,"mat-dialog-actions",18)(34,"button",19),e._uU(35,"Close"),e.qZA(),e.TgZ(36,"button",20),e.NdJ("click",function(){return i.saveExperience()}),e._uU(37," Submit "),e.qZA()()}if(2&t){const n=e.MAs(10),r=e.MAs(26);e.xp6(1),e.hij("",null!=i.data&&i.data.experience?"Update":"Create new"," experience"),e.xp6(2),e.Q6J("formGroup",i.experience_form),e.xp6(4),e.Q6J("matAutocomplete",n),e.xp6(1),e.Q6J("ngIf",i.showDoneButtonForJob()),e.xp6(1),e.Q6J("displayWith",i.displayFn),e.xp6(2),e.Q6J("ngForOf",i.jobs),e.xp6(12),e.Q6J("matDatepicker",r),e.xp6(1),e.Q6J("for",r),e.xp6(8),e.Q6J("ngIf",!i.experience_form.get("is_currently_working").value)}},directives:[l.uh,l.xY,a._Y,a.JL,a.sg,_.KE,_.hX,Z.Nt,a.Fj,T.ZL,a.JJ,a.u,p.O5,M.Hw,_.R9,T.XC,p.sg,f.ey,k.hl,k.nW,k.Mq,_.bx,V.oG,l.H8,h.lW,l.ZT],styles:[""],encapsulation:2}),o})();function P(o,s){if(1&o&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",null==t?null:t.description," ")}}let ee=(()=>{class o{constructor(t,i,n,r,c,d){this.form_builder=t,this.user_service=i,this.employee_service=n,this.dialog_ref=r,this.snack_bar=c,this.data=d,this.education_types=[],this.all_education_types=[],this.education_form=this.form_builder.group({education_type:new a.NI("",a.kI.required),institution:new a.NI("",a.kI.required),academic_year:new a.NI("",a.kI.required),display_order:new a.NI(1)})}ngOnInit(){this.getEducationTypes()}getEducationTypes(){this.education_types=[],this.all_education_types=[],this.employee_service.getEducationTypes().subscribe({next:t=>{if(console.log(t),this.education_types=t.data,this.all_education_types=t.data,this.data.education){const i=t.data.find(n=>n.education_type_id===this.data.education.education_type_id);this.education_form.patchValue({education_type:i,institution:this.data.education.institution,academic_year:this.data.education.academic_year,display_order:this.data.education.display_order})}}})}filterEducationType(t){this.education_types=[void 0,null,""," "].includes(t)?[...this.all_education_types]:this.all_education_types.filter(i=>i.description.toLowerCase().includes(t.toLowerCase()))}displayFn(t){return t&&t.description?t.description:""}showDoneButtonForEducationType(){return![null,void 0,""," "].includes(this.education_form.get("education_type").value)&&0===this.education_types.length}saveNewEductionType(){}saveEducation(){var t;if(this.education_form.invalid)return;let i;const n={academic_year:this.education_form.get("academic_year").value,display_order:this.education_form.get("display_order").value,institution:this.education_form.get("institution").value,education_type_id:null===(t=this.education_form.get("education_type").value)||void 0===t?void 0:t.education_type_id,id:this.data.education?this.data.education.id:void 0};i=this.data.education?this.employee_service.updateEducation(n):this.employee_service.createEducation(n),i.subscribe({next:r=>{console.log(r),this.snack_bar.open(r.message,"Close",{duration:2e3,panelClass:r.success?"success-message":"error-message"}),r.success&&(this.data.user.educations=this.data.user.educations.map(c=>c.id===r.data.id?r.data:c),this.user_service.user=this.data.user,this.dialog_ref.close())}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.qu),e.Y36(g.K),e.Y36(v),e.Y36(l.so),e.Y36(x.ux),e.Y36(l.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-education"]],decls:24,vars:5,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"flex","flex-col","flex-auto","p-6","sm:p-8","overflow-y-auto",3,"formGroup"],[1,"flex","flex-col","w-full"],["matInput","","formControlName","institution"],["type","text","matInput","","formControlName","education_type",3,"matAutocomplete","keyup"],["autoActiveFirstOption","",3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","academic_year"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(t,i){if(1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content",1)(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),e._uU(6,"School"),e.qZA(),e._UZ(7,"input",4),e.qZA(),e.TgZ(8,"mat-form-field",3)(9,"mat-label"),e._uU(10,"Degree"),e.qZA(),e.TgZ(11,"input",5),e.NdJ("keyup",function(r){return i.filterEducationType(r.target.value)}),e.qZA(),e.TgZ(12,"mat-autocomplete",6,7),e.YNc(14,P,2,2,"mat-option",8),e.qZA()(),e.TgZ(15,"mat-form-field",3)(16,"mat-label"),e._uU(17,"Academic Year"),e.qZA(),e._UZ(18,"input",9),e.qZA()()(),e.TgZ(19,"mat-dialog-actions",10)(20,"button",11),e._uU(21,"Close"),e.qZA(),e.TgZ(22,"button",12),e.NdJ("click",function(){return i.saveEducation()}),e._uU(23," Submit "),e.qZA()()),2&t){const n=e.MAs(13);e.xp6(1),e.hij(" ",null!=i.data&&i.data.education?"Update":"Create new"," education\n"),e.xp6(2),e.Q6J("formGroup",i.education_form),e.xp6(8),e.Q6J("matAutocomplete",n),e.xp6(1),e.Q6J("displayWith",i.displayFn),e.xp6(2),e.Q6J("ngForOf",i.education_types)}},directives:[l.uh,l.xY,a._Y,a.JL,a.sg,_.KE,_.hX,Z.Nt,a.Fj,a.JJ,a.u,T.ZL,T.XC,p.sg,f.ey,l.H8,h.lW,l.ZT],styles:[""]}),o})(),te=(()=>{class o{constructor(t,i,n,r,c,d){this.form_builder=t,this.user_service=i,this.employee_service=n,this.dialog_ref=r,this.snack_bar=c,this.data=d,this.certificate_form=this.form_builder.group({certificate_name:new a.NI("",a.kI.required),description:new a.NI("")})}ngOnInit(){this.data.certification&&this.certificate_form.patchValue({certificate_name:this.data.certification.certificate_name,description:this.data.certification.description})}saveCertification(){if(this.certificate_form.invalid)return;const t={certificate_name:this.certificate_form.get("certificate_name").value,description:this.certificate_form.get("description").value,certification_id:this.data.certification?this.data.certification.certification_id:void 0};let i;i=this.data.certification?this.employee_service.updateCertification(t):this.employee_service.createNewCertification(t),i.subscribe({next:n=>{console.log(n),this.snack_bar.open(n.message,"Close",{duration:2e3,panelClass:n.data?"success-message":"error-message"}),n.success&&(this.data.certification?this.data.user.certifications=this.data.user.certifications.map(r=>r.certification_id===t.certification_id?n.data:r):this.data.user.certifications.push(n.data),this.user_service.user=this.data.user,this.dialog_ref.close())}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.qu),e.Y36(g.K),e.Y36(v),e.Y36(l.so),e.Y36(x.ux),e.Y36(l.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-certification"]],decls:17,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"flex","flex-col","flex-auto","p-6","sm:p-8","overflow-y-auto",3,"formGroup"],[1,"flex","flex-col","w-full"],["matInput","","formControlName","certificate_name"],["matInput","","formControlName","description","rows","3"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content",1)(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),e._uU(6,"Certificate"),e.qZA(),e._UZ(7,"input",4),e.qZA(),e.TgZ(8,"mat-form-field",3)(9,"mat-label"),e._uU(10,"Description"),e.qZA(),e._UZ(11,"textarea",5),e.qZA()()(),e.TgZ(12,"mat-dialog-actions",6)(13,"button",7),e._uU(14,"Close"),e.qZA(),e.TgZ(15,"button",8),e.NdJ("click",function(){return i.saveCertification()}),e._uU(16," Submit "),e.qZA()()),2&t&&(e.xp6(1),e.hij(" ",null!=i.data&&i.data.certification?"Update":"Create new"," certification\n"),e.xp6(2),e.Q6J("formGroup",i.certificate_form))},directives:[l.uh,l.xY,a._Y,a.JL,a.sg,_.KE,_.hX,Z.Nt,a.Fj,a.JJ,a.u,l.H8,h.lW,l.ZT],styles:[""]}),o})();var O=u(4107);function ie(o,s){if(1&o&&(e.TgZ(0,"mat-option",10),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t.account_type_id),e.xp6(1),e.hij(" ",t.account_name," ")}}const oe=[{array_type:"experiences",component:K,key:"experience",width:"500px"},{array_type:"educations",component:ee,key:"education",width:"400px"},{array_type:"certifications",component:te,key:"certification",width:"400px"},{array_type:"other_accounts",component:(()=>{class o{constructor(t,i,n,r,c,d){this.form_builder=t,this.user_service=i,this.shared_service=n,this.dialog_ref=r,this.snack_bar=c,this.data=d,this.shared_service.getAccountTypes(),this.account_form=this.form_builder.group({account_type_id:new a.NI("",a.kI.required),account_url:new a.NI("",a.kI.required)})}ngOnInit(){this.data.other_account&&this.account_form.patchValue({account_type_id:this.data.other_account.account_type_id,account_url:this.data.other_account.account_url})}saveOtherAccount(){if(this.account_form.invalid)return;const t={account_url:this.account_form.get("account_url").value,account_type_id:this.account_form.get("account_type_id").value,other_account_id:this.data.other_account?this.data.other_account.other_account_id:void 0};let i;i=this.data.other_account?this.shared_service.updateOtherAccount(t):this.shared_service.addNewOtherAccount(t),this.account_form.disable(),i.subscribe({next:n=>{console.log(n),this.snack_bar.open(n.message,"Close",{duration:2e3,panelClass:n.success?"success-message":"error-message"}),n.success&&(this.data.other_account||(this.data.user.other_accounts=this.data.user.other_accounts.map(r=>r.account_type_id===t.account_type_id?n.data:r)),this.user_service.user=this.data.user,this.dialog_ref.close())},error:()=>this.account_form.enable(),complete:()=>this.account_form.enable()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.qu),e.Y36(g.K),e.Y36(A.F),e.Y36(l.so),e.Y36(x.ux),e.Y36(l.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-other-account"]],decls:18,vars:5,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"flex","flex-col","flex-auto","p-6","sm:p-8","overflow-y-auto",3,"formGroup"],[1,"flex","flex-col","w-full"],["formControlName","account_type_id"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","account_url","rows","3"],["align","end"],["mat-button","","mat-dialog-close","",3,"disabled"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content",1)(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),e._uU(6,"Account Type"),e.qZA(),e.TgZ(7,"mat-select",4),e.YNc(8,ie,2,2,"mat-option",5),e.qZA()(),e.TgZ(9,"mat-form-field",3)(10,"mat-label"),e._uU(11,"Account URL"),e.qZA(),e._UZ(12,"textarea",6),e.qZA()()(),e.TgZ(13,"mat-dialog-actions",7)(14,"button",8),e._uU(15," Close "),e.qZA(),e.TgZ(16,"button",9),e.NdJ("click",function(){return i.saveOtherAccount()}),e._uU(17," Submit "),e.qZA()()),2&t&&(e.xp6(1),e.hij(" ",null!=i.data&&i.data.other_account?"Update":"Create new"," account\n"),e.xp6(2),e.Q6J("formGroup",i.account_form),e.xp6(5),e.Q6J("ngForOf",i.shared_service.account_types),e.xp6(6),e.Q6J("disabled",i.account_form.disabled),e.xp6(2),e.Q6J("disabled",i.account_form.disabled))},directives:[l.uh,l.xY,a._Y,a.JL,a.sg,_.KE,_.hX,O.gD,a.JJ,a.u,p.sg,f.ey,Z.Nt,a.Fj,l.H8,h.lW,l.ZT],styles:[""]}),o})(),key:"other_account",width:"400px"},{array_type:"licenses",component:(()=>{class o{constructor(t,i,n,r,c,d){this.form_builder=t,this.user_service=i,this.employee_service=n,this.dialog_ref=r,this.snack_bar=c,this.data=d,this.license_form=this.form_builder.group({license_name:new a.NI("",a.kI.required),description:new a.NI("",a.kI.required)})}ngOnInit(){this.data.license&&this.license_form.patchValue({license_name:this.data.license.license_name,description:this.data.license.description})}saveLicense(){if(this.license_form.invalid)return;const t={description:this.license_form.get("description").value,license_name:this.license_form.get("license_name").value,license_id:this.data.license?this.data.license.license_id:void 0};let i;i=this.data.license?this.employee_service.updateLicense(t):this.employee_service.createNewLicense(t),this.license_form.disable(),i.subscribe({next:n=>{console.log(n),this.snack_bar.open(n.message,"Close",{duration:2e3,panelClass:n.message?"success-message":"error-message"}),n.success&&(this.data.license?this.data.user.licenses=this.data.user.licenses.map(r=>r.license_id===n.data.license_id?n.data:r):this.data.user.licenses.push(n.data),this.user_service.user=this.data.user,this.dialog_ref.close())},error:()=>this.license_form.enable(),complete:()=>this.license_form.enable()})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.qu),e.Y36(g.K),e.Y36(v),e.Y36(l.so),e.Y36(x.ux),e.Y36(l.WI))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-license"]],decls:17,vars:4,consts:[["mat-dialog-title",""],[1,"mat-typography"],[1,"flex","flex-col","flex-auto","p-6","sm:p-8","overflow-y-auto",3,"formGroup"],[1,"flex","flex-col","w-full"],["matInput","","formControlName","license_name"],["matInput","","formControlName","description","rows","3"],["align","end"],["mat-button","","mat-dialog-close","",3,"disabled"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e.TgZ(2,"mat-dialog-content",1)(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),e._uU(6,"License"),e.qZA(),e._UZ(7,"input",4),e.qZA(),e.TgZ(8,"mat-form-field",3)(9,"mat-label"),e._uU(10,"Description"),e.qZA(),e._UZ(11,"textarea",5),e.qZA()()(),e.TgZ(12,"mat-dialog-actions",6)(13,"button",7),e._uU(14,"Close"),e.qZA(),e.TgZ(15,"button",8),e.NdJ("click",function(){return i.saveLicense()}),e._uU(16," Submit "),e.qZA()()),2&t&&(e.xp6(1),e.hij("",null!=i.data&&i.data.license?"Update":"Create new"," license"),e.xp6(2),e.Q6J("formGroup",i.license_form),e.xp6(10),e.Q6J("disabled",i.license_form.disabled),e.xp6(2),e.Q6J("disabled",i.license_form.disabled))},directives:[l.uh,l.xY,a._Y,a.JL,a.sg,_.KE,_.hX,Z.Nt,a.Fj,a.JJ,a.u,l.H8,h.lW,l.ZT],styles:[""]}),o})(),key:"license",width:"400px"}];var F=u(1683),ne=u(9602);function ae(o,s){1&o&&(e.ynx(0),e._uU(1," Present "),e.BQk())}function se(o,s){if(1&o&&(e._uU(0),e.ALo(1,"date")),2&o){const t=e.oxw().$implicit;e.hij(" ",e.xi3(1,1,t.relieving_date,"MMM yyyy")," ")}}function re(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",30)(1,"div",12)(2,"div",31),e._uU(3),e.qZA(),e.TgZ(4,"div",3)(5,"button",32),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).onClickDetails("experiences",r)}),e._UZ(6,"mat-icon",15),e.qZA(),e.TgZ(7,"button",33),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(2).removeDetails("experiences",r)}),e._UZ(8,"mat-icon",34),e.qZA()()(),e.TgZ(9,"div",35),e._uU(10),e.qZA(),e.TgZ(11,"div",36),e._uU(12),e.ALo(13,"date"),e.YNc(14,ae,2,0,"ng-container",37),e.YNc(15,se,2,4,"ng-template",null,38,e.W1O),e.qZA(),e.TgZ(17,"div",36),e._uU(18),e.qZA()()}if(2&o){const t=s.$implicit,i=e.MAs(16);e.xp6(3),e.hij(" ",t.job_name," "),e.xp6(7),e.hij(" ",t.company," "),e.xp6(2),e.hij(" ",e.xi3(13,6,t.joining_date,"MMM yyyy")," - "),e.xp6(2),e.Q6J("ngIf",t.is_currently_working)("ngIfElse",i),e.xp6(4),e.hij(" ",t.location," ")}}function ce(o,s){if(1&o&&(e.TgZ(0,"div",28),e.YNc(1,re,19,9,"div",29),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.user.experiences)}}function le(o,s){1&o&&(e.TgZ(0,"div",39),e._UZ(1,"img",40),e.TgZ(2,"div",41),e._uU(3,' No experiences yet. Click the "Add" button on the right to add one. '),e.qZA()())}function ue(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",30)(1,"div",12)(2,"div",31),e._uU(3),e.qZA(),e.TgZ(4,"div",3)(5,"button",32),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).onClickDetails("educations",r)}),e._UZ(6,"mat-icon",15),e.qZA(),e.TgZ(7,"button",33),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(2).removeDetails("educations",r)}),e._UZ(8,"mat-icon",34),e.qZA()()(),e.TgZ(9,"div",35),e._uU(10),e.qZA(),e.TgZ(11,"div",36),e._uU(12),e.qZA()()}if(2&o){const t=s.$implicit;e.xp6(3),e.hij(" ",t.institution," "),e.xp6(7),e.hij(" ",t.description," "),e.xp6(2),e.hij(" ",t.academic_year," ")}}function de(o,s){if(1&o&&(e.TgZ(0,"div",28),e.YNc(1,ue,13,3,"div",29),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.user.educations)}}function me(o,s){1&o&&(e.TgZ(0,"div",39),e._UZ(1,"img",40),e.TgZ(2,"div",41),e._uU(3,' No educations yet. Click the "Add" button on the right to add one. '),e.qZA()())}function _e(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",30)(1,"div",12)(2,"div",31),e._uU(3),e.qZA(),e.TgZ(4,"div",3)(5,"button",32),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw(2).onClickDetails("certifications",r)}),e._UZ(6,"mat-icon",15),e.qZA(),e.TgZ(7,"button",33),e.NdJ("click",function(){const r=e.CHM(t).index;return e.oxw(2).removeDetails("certifications",r)}),e._UZ(8,"mat-icon",34),e.qZA()()(),e.TgZ(9,"div",35),e._uU(10),e.qZA()()}if(2&o){const t=s.$implicit;e.xp6(3),e.hij(" ",t.certificate_name," "),e.xp6(7),e.hij(" ",t.description," ")}}function pe(o,s){if(1&o&&(e.TgZ(0,"div",28),e.YNc(1,_e,11,2,"div",29),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.user.certifications)}}function fe(o,s){1&o&&(e.TgZ(0,"div",39),e._UZ(1,"img",40),e.TgZ(2,"div",41),e._uU(3,' No certificates yet. Click the "Add" button on the right to add one. '),e.qZA()())}let he=(()=>{class o{constructor(t,i,n,r,c,d,b,N){this.user_service=t,this.change_detector_ref=i,this.form_builder=n,this.shared_service=r,this.employee_service=c,this.confirm_service=d,this.mat_dialog=b,this.snack_bar=N,this._unsubscribeAll=new U.x,this.shared_service.getSkills()}ngOnInit(){this.user_service.user$.pipe((0,D.R)(this._unsubscribeAll)).subscribe({next:t=>{this.user=t,this.change_detector_ref.markForCheck()}})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}returnFormGroup(t,i){let n;switch(t){case"attachments":const r=i;n=this.form_builder.group({attachment_id:new a.NI(i?r.attachment_id:0),attachment_url:new a.NI(i?r.attachment_url:"",a.kI.required),attachment_name:new a.NI(i?r.attachment_name:"",a.kI.required)});break;case"references":const c=i;n=this.form_builder.group({reference_id:new a.NI(i?c.reference_id:0),reference_name:new a.NI(i?c.reference_name:"",a.kI.required),email:new a.NI(i?c.email:"",a.kI.required),phone_number:new a.NI(i?c.phone_number:"",a.kI.required)});break;case"skills":const d=i;let b;i&&(b=this.shared_service.skills.find(N=>N.skill_id===d.skill_id)),n=this.form_builder.group({employee_skill_id:new a.NI(i?d.employee_skill_id:0),skill:new a.NI(i?b:"",a.kI.required)})}return n}removeDetails(t,i){if(i>=0){let n;switch(t){case"attachments":n=this.shared_service.removeAttachment(this.user.attachments[i].attachment_id);break;case"certifications":n=this.employee_service.removeCertification(this.user.certifications[i].certification_id);break;case"educations":n=this.employee_service.removeEducation(this.user.educations[i].id);break;case"experiences":n=this.employee_service.removeExperience(this.user.experiences[i].id);break;case"licenses":n=this.employee_service.removeLicense(this.user.licenses[i].license_id);break;case"other_accounts":n=this.shared_service.removeAttachment(this.user.other_accounts[i].other_account_id);break;case"references":n=this.employee_service.removeReference(this.user.references[i].reference_id);break;case"skills":n=this.employee_service.removeSkill(this.user.skill[i].employee_skill_id)}n&&this.confirm_service.open({title:"Confirmation",message:`Do you want to remove this ${t.slice(0,t.length-1)}. This cannot be undone.`,icon:{show:!1},actions:{confirm:{show:!0,label:"Confirm",color:"primary"},cancel:{show:!0,label:"Cancel"}},dismissible:!1}).afterClosed().subscribe({next:c=>{"confirmed"===c&&n.subscribe({next:d=>{console.log(d),this.snack_bar.open(d.message,"Close",{duration:2e3,panelClass:d.success?"success-message":"error-message"}),d.success&&(this.user["skills"===t?"skill":t].splice(i,1),this.user_service.user=this.user)},error:d=>this.showErrorMessage(d)})}})}}showErrorMessage(t){console.log(t),this.snack_bar.open("Your request cannot be processed at this time. Please try again later.","Close",{duration:2e3,panelClass:"error-message"})}onClickEmployeeDetails(){this.mat_dialog.open($,{disableClose:!0,width:"700px",data:this.user})}onClickDetails(t,i){const n=oe.find(c=>c.array_type===t),r={user:this.user};n&&(r[n.key]=i,this.mat_dialog.open(n.component,{disableClose:!0,width:n.width,data:r}))}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(g.K),e.Y36(e.sBO),e.Y36(a.qu),e.Y36(A.F),e.Y36(v),e.Y36(F.R),e.Y36(l.uw),e.Y36(x.ux))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-my-account"]],decls:102,vars:19,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","shadow","bg-card"],["alt","Cover image",1,"h-40","lg:h-80","object-cover",3,"src"],[1,"flex"],[1,"flex","flex-col","flex-0","lg:flex-row","items-center","max-w-5xl","w-full","mx-auto","px-8","lg:h-18","bg-card"],[1,"-mt-26","lg:-mt-22","rounded-full"],["alt","Logo",1,"w-32","h-32","rounded-full","ring-4","ring-bg-card",3,"src"],[1,"flex","flex-col","items-center","lg:items-start","mt-4","lg:mt-0","lg:ml-8"],[1,"text-lg","font-bold","leading-none","mb-4"],[1,"text-secondary"],[1,"lg:flex","flex-col","items-start","mt-4","mx-14"],[1,"flex","flex-col","w-full","p-8"],[1,"flex","justify-between","items-center"],[1,"text-2xl","font-semibold","leading-tight"],["mat-icon-button","",3,"click"],["svgIcon","mat_outline:edit"],[1,"mt-4"],[1,"w-full","border-t","my-6"],[1,"flex","justify-evenly"],[1,"flex","flex-col"],[1,"flex","items-center","mt-4"],[1,"icon-size-5","mr-3",3,"svgIcon"],[1,"leading-none"],["svgIcon","mat_outline:add_circle_outline"],["class","flex flex-col md:flex-row w-full flex-wrap",4,"ngIf","ngIfElse"],["noExperiences",""],["noEducation",""],["noCertifications",""],[1,"flex","flex-col","md:flex-row","w-full","flex-wrap"],["class","flex flex-col rounded border-2 px-4 p-2 mr-2",4,"ngFor","ngForOf"],[1,"flex","flex-col","rounded","border-2","px-4","p-2","mr-2"],[1,"flex","font-bold","text-lg"],["mat-icon-button","",1,"mr-1",3,"click"],["mat-icon-button","","color","warn",3,"click"],["svgIcon","mat_outline:delete_outline"],[1,"flex","font-semibold"],[1,"flex","text-secondary"],[4,"ngIf","ngIfElse"],["endDate",""],[1,"flex","flex-col","w-full","justify-center","items-center"],["src","./assets/images/ui/angular-material/scenes/undraw_no_data_re_kwbl.svg","alt","",1,"w-50"],[1,"flex","flex-col","items-center","font-bold","mt-2"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div"),e._UZ(3,"img",2),e.qZA(),e.TgZ(4,"div",3)(5,"div",4)(6,"div",5),e._UZ(7,"img",6),e.qZA(),e.TgZ(8,"div",7)(9,"div",8),e._uU(10),e.qZA(),e.TgZ(11,"div",9),e._uU(12),e.qZA()()()()(),e.TgZ(13,"div",10)(14,"fuse-card",11)(15,"div",12)(16,"div",13),e._uU(17,"About Me"),e.qZA(),e.TgZ(18,"button",14),e.NdJ("click",function(){return i.onClickEmployeeDetails()}),e._UZ(19,"mat-icon",15),e.qZA()(),e.TgZ(20,"div",16),e._uU(21),e.qZA(),e._UZ(22,"hr",17),e.TgZ(23,"div",18)(24,"div",19)(25,"div",20),e._UZ(26,"mat-icon",21),e.TgZ(27,"span",22),e._uU(28),e.qZA()()(),e.TgZ(29,"div",19)(30,"div",20),e._UZ(31,"mat-icon",21),e.TgZ(32,"span",22),e._uU(33),e.qZA()()(),e.TgZ(34,"div",19)(35,"div",20),e._UZ(36,"mat-icon",21),e.TgZ(37,"span",22),e._uU(38),e.qZA()()(),e.TgZ(39,"div",19)(40,"div",20),e._UZ(41,"mat-icon",21),e.TgZ(42,"span",22),e._uU(43),e.qZA()()()()()(),e.TgZ(44,"div",10)(45,"fuse-card",11)(46,"div",12)(47,"div",13),e._uU(48," Experiences "),e.qZA(),e.TgZ(49,"button",14),e.NdJ("click",function(){return i.onClickDetails("experiences")}),e._UZ(50,"mat-icon",23),e.qZA()(),e.YNc(51,ce,2,1,"div",24),e.YNc(52,le,4,0,"ng-template",null,25,e.W1O),e.qZA()(),e.TgZ(54,"div",10)(55,"fuse-card",11)(56,"div",12)(57,"div",13),e._uU(58," Education "),e.qZA(),e.TgZ(59,"button",14),e.NdJ("click",function(){return i.onClickDetails("educations")}),e._UZ(60,"mat-icon",23),e.qZA()(),e.YNc(61,de,2,1,"div",24),e.YNc(62,me,4,0,"ng-template",null,26,e.W1O),e.qZA()(),e.TgZ(64,"div",10)(65,"fuse-card",11)(66,"div",12)(67,"div",13),e._uU(68," Certificates "),e.qZA(),e.TgZ(69,"button",14),e.NdJ("click",function(){return i.onClickDetails("certifications")}),e._UZ(70,"mat-icon",23),e.qZA()(),e.YNc(71,pe,2,1,"div",24),e.YNc(72,fe,4,0,"ng-template",null,27,e.W1O),e.qZA()(),e.TgZ(74,"div",10)(75,"fuse-card",11)(76,"div",12)(77,"div",13),e._uU(78," attachments "),e.qZA(),e.TgZ(79,"button",14),e.NdJ("click",function(){return i.onClickDetails("attachments")}),e._UZ(80,"mat-icon",23),e.qZA()()()(),e.TgZ(81,"div",10)(82,"fuse-card",11)(83,"div",12)(84,"div",13),e._uU(85," Social Accounts "),e.qZA(),e.TgZ(86,"button",14),e.NdJ("click",function(){return i.onClickDetails("other_accounts")}),e._UZ(87,"mat-icon",23),e.qZA()()()(),e.TgZ(88,"div",10)(89,"fuse-card",11)(90,"div",12)(91,"div",13),e._uU(92,"Licenses"),e.qZA(),e.TgZ(93,"button",14),e.NdJ("click",function(){return i.onClickDetails("licenses")}),e._UZ(94,"mat-icon",23),e.qZA()()()(),e.TgZ(95,"div",10)(96,"fuse-card",11)(97,"div",12)(98,"div",13),e._uU(99," References "),e.qZA(),e.TgZ(100,"button",14),e.NdJ("click",function(){return i.onClickDetails("references")}),e._UZ(101,"mat-icon",23),e.qZA()()()()()),2&t){const n=e.MAs(53),r=e.MAs(63),c=e.MAs(73);e.xp6(3),e.Q6J("src",i.user.user_details.cover_url,e.LSH),e.xp6(4),e.Q6J("src",i.user.user_details.profile_url?i.user.user_details.profile_url:"assets/images/avatars/male-04.jpg",e.LSH),e.xp6(3),e.hij(" ",i.user.user_details.name," "),e.xp6(2),e.hij(" ",i.user.user_details.employee_email," "),e.xp6(9),e.hij(" ",i.user.user_details.about_us," "),e.xp6(5),e.Q6J("svgIcon","mat_outline:location_on"),e.xp6(2),e.hij(" ",i.user.user_details.country_name," "),e.xp6(3),e.Q6J("svgIcon","mat_solid:phone"),e.xp6(2),e.hij(" ",i.user.user_details.employee_phone_number," "),e.xp6(3),e.Q6J("svgIcon","mat_outline:transgender"),e.xp6(2),e.hij(" ",i.user.user_details.description," "),e.xp6(3),e.Q6J("svgIcon","mat_solid:web"),e.xp6(2),e.hij(" ",i.user.user_details.portfolio," "),e.xp6(8),e.Q6J("ngIf",i.user.experiences.length>0)("ngIfElse",n),e.xp6(10),e.Q6J("ngIf",i.user.educations.length>0)("ngIfElse",r),e.xp6(10),e.Q6J("ngIf",i.user.certifications.length>0)("ngIfElse",c)}},directives:[ne.y,h.lW,M.Hw,p.O5,p.sg],pipes:[p.uU],styles:[""]}),o})(),ge=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-find-jobs"]],decls:2,vars:0,template:function(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"find-jobs works!"),e.qZA())},styles:[""]}),o})();var m=u(4999),J=u(4847);let Q=(()=>{class o{constructor(t){this.http=t,this.root_url=q.N.api_url}getAllJobVacancies(){return this.http.get(`${this.root_url}/job-vacancy/sync/get`)}deleteJob(t){return this.http.get(`${this.root_url}job-vacancy/sync/delete/${t}`)}updateAttachment(t,i){return this.http.put(`${this.root_url}job-vacancy/sync/attachment/update/${t}`,i)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(E.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function ye(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",4),e.NdJ("click",function(){const r=e.CHM(t).$implicit;return e.oxw().updateAttachment(r)}),e.TgZ(1,"div",5)(2,"div",6)(3,"div",7),e._UZ(4,"mat-icon",8),e.TgZ(5,"div",9),e._uU(6," PDF "),e.qZA()()()(),e.TgZ(7,"div",10)(8,"div",11),e._uU(9),e.qZA()()()}if(2&o){const t=s.$implicit;e.xp6(4),e.Q6J("svgIcon","iconsmind:file"),e.xp6(5),e.Oqu(t.attachment_name)}}let ve=(()=>{class o{constructor(t,i){this.data=t,this.myJobs_service=i,this.show_alert=!1,this.allAttachments=[{attachment_id:1,attachment_name:"efg",attachment_url:"#"},{attachment_id:2,attachment_name:"xyz",attachment_url:"#"},{attachment_id:3,attachment_name:"xyz",attachment_url:"#"},{attachment_id:4,attachment_name:"xyz",attachment_url:"#"}],this.alert={type:"success",message:""}}ngOnInit(){}updateAttachment(t){console.log("this,data",this.data),this.myJobs_service.updateAttachment(this.data.item.sync_registry_id,null==t?void 0:t.attachment_id).subscribe({next:i=>{console.log(i),this.alert={type:i.success?"success":"error",message:i.message},this.show_alert=!0}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(l.WI),e.Y36(Q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-aialog"]],decls:5,vars:1,consts:[["mat-dialog-title","",1,"text-center","text-xl","font-medium"],["mat-dialog-content",""],[1,"flex","flex-row","flex-wrap","items-start","mt-8"],["class","flex flex-col  w-40 h-40 m-2 p-4 shadow rounded-2xl cursor-pointer bg-card ng-star-inserted text-black bg-white",3,"click",4,"ngFor","ngForOf"],[1,"flex","flex-col","w-40","h-40","m-2","p-4","shadow","rounded-2xl","cursor-pointer","bg-card","ng-star-inserted","text-black","bg-white",3,"click"],[1,"aspect-w-10","aspect-h-5","mt-4"],[1,"flex","items-center","justify-center","border","rounded-lg"],[1,"relative"],[1,"icon-size-14","text-hint",3,"svgIcon"],[1,"absolute","left-0","bottom-0","px-1.5","rounded","text-sm","font-semibold","leading-5","text-white","bg-red-600",3,"bg-red-600"],[1,"flex","flex-col","items-start","mt-4","text-sm","text-center","justify-center","items-center"],[1,"text-xl","font-medium"]],template:function(t,i){1&t&&(e.TgZ(0,"h1",0),e._uU(1," Choose your attachment\n"),e.qZA(),e.TgZ(2,"div",1)(3,"div",2),e.YNc(4,ye,10,2,"div",3),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("ngForOf",i.allAttachments))},directives:[l.uh,l.xY,p.sg,M.Hw],styles:[""]}),o})();function xe(o,s){if(1&o&&(e.TgZ(0,"mat-option",21),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.Oqu(t.value)}}function be(o,s){1&o&&(e.TgZ(0,"th",22),e._uU(1," Sl "),e.qZA())}function Ze(o,s){if(1&o&&(e.TgZ(0,"td",23),e._uU(1),e.qZA()),2&o){const t=s.index;e.xp6(1),e.hij(" ",t+1," ")}}function Ae(o,s){1&o&&(e.TgZ(0,"th",22),e._uU(1," Position "),e.qZA())}function Ce(o,s){if(1&o&&(e.TgZ(0,"td",23),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",null==t?null:t.job_name," ")}}function Te(o,s){1&o&&(e.TgZ(0,"th",24),e._uU(1," Company name "),e.qZA())}function Me(o,s){if(1&o&&(e.TgZ(0,"td",23),e._uU(1),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.hij(" ",(null==t?null:t.approved_user_id)===i.current_user_id?t.applied_user:(null==t?null:t.applied_user_id)===i.current_user_id?t.approved_user:""," ")}}function we(o,s){1&o&&(e.TgZ(0,"th",24),e._uU(1," Applied / Requested on "),e.qZA())}function ke(o,s){if(1&o&&(e.TgZ(0,"td",23),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",null==t?null:t.applied_date," ")}}function Je(o,s){1&o&&(e.TgZ(0,"th",24),e._uU(1," status "),e.qZA())}function Ne(o,s){if(1&o&&(e.TgZ(0,"td",23),e._uU(1),e.qZA()),2&o){const t=s.$implicit;e.xp6(1),e.hij(" ",null==t?null:t.status_description," ")}}function Ye(o,s){1&o&&e._UZ(0,"th",22)}function Ie(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit;return e.oxw().openDialog(n)}),e._UZ(1,"mat-icon",30),e.qZA()}}function Ue(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",29),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit;return e.oxw().redirectUrl(n)}),e._UZ(1,"mat-icon",31),e.qZA()}}function De(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(),r=n.$implicit,c=n.index;return e.oxw().deleteJob(r,c)}),e._UZ(1,"mat-icon",33),e.qZA()}}function qe(o,s){if(1&o&&(e.TgZ(0,"td",23),e.YNc(1,Ie,2,0,"button",25),e.YNc(2,Ue,2,0,"button",25),e.TgZ(3,"button",26),e._UZ(4,"mat-icon",27),e.qZA(),e.YNc(5,De,2,0,"button",28),e.qZA()),2&o){const t=s.$implicit,i=e.oxw();e.xp6(1),e.Q6J("ngIf",2===t.status),e.xp6(1),e.Q6J("ngIf",t.resume_attachement_id),e.xp6(3),e.Q6J("ngIf",(null==t?null:t.applied_user_id)===i.current_user_id&&2===t.status)}}function Ee(o,s){1&o&&e._UZ(0,"tr",34)}function je(o,s){1&o&&e._UZ(0,"tr",35)}const Oe=[{path:"my-account",component:he},{path:"find-jobs",component:ge},{path:"my-jobs",component:(()=>{class o{constructor(t,i,n,r){this.myJobs_service=t,this._changeDetectorRef=i,this.confirmation_dialog=n,this.dialog=r,this.show_alert=!1,this.alert={type:"success",message:""},this.jobTypes=[{id:0,value:"All"},{id:1,value:"Applied Jobs"},{id:2,value:"Approached by company"}],this.current_user_id=101,this.filtered_data_source=new m.by,this.data_source=new m.by,this.displayed_columns=["sl","name","placement_type","vaccancy_count","application_starts_from","admin"],this._unsubscribeAll=new U.x}ngOnInit(){this.getVacancies(),this.filtered_data_source=this.data_source,this._userService.user$.pipe((0,D.R)(this._unsubscribeAll)).subscribe(t=>{this.user=t,this._changeDetectorRef.markForCheck()})}filterDataByType(t){const i=t.value;0===i?this.getVacancies():1===i?this.data_source.data=this.filtered_data_source.data.filter(n=>n.applied_user_id===this.current_user_id):2===i&&(this.data_source.data=this.filtered_data_source.data.filter(n=>n.approved_user_id===this.current_user_id))}getVacancies(){this.data_source=new m.by,this.myJobs_service.getAllJobVacancies().subscribe({next:t=>{console.log(t),this.data_source=new m.by(t.data),this.data_source.sort=this.sort},error:()=>{this.data_source=new m.by([{sync_registry_id:1,vacancy_id:1,job_id:"1",job_name:"Frontend Developer",applied_user_id:101,applied_user:"",approved_user_id:1,approved_user:"ABC",applied_date:"",approved_date:"",status:2,status_description:"Open",resume_attachement_id:1,attachment_url:""},{sync_registry_id:1,vacancy_id:1,job_id:"1",job_name:"Backend Developer",applied_user_id:0,applied_user:"test",approved_user_id:1,approved_user:"Lyca Group",applied_date:"",approved_date:"",status:0,status_description:"Open",resume_attachement_id:1,attachment_url:"https://www.lycamobile.co.uk/en/"}]),this.data_source.sort=this.sort}})}redirectUrl(t){window.open(t.attachment_url,"_blank")}deleteJob(t,i){this.confirmation_dialog.open({title:"Remove Jobs",message:"Are you sure you want to delete this job? This action cannot be undone. Click 'Confirm' to proceed with the deletion, or 'Cancel' to return to the job details.",icon:{show:!1},actions:{confirm:{show:!0,label:"Confirm",color:"primary"},cancel:{show:!0,label:"Cancel"}},dismissible:!1}).afterClosed().subscribe({next:r=>{"confirmed"===r&&this.myJobs_service.deleteJob(t.sync_registry_id).subscribe({next:c=>{if(console.log(c),this.alert={type:c.success?"success":"error",message:c.message},this.show_alert=!0,c.success){const d=this.data_source.data;i>=0&&d.splice(i,1),this.data_source=new m.by(d),this.data_source.sort=this.sort}}})}})}openDialog(t){this.dialog.open(ve,{width:"800px",data:{item:t}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Q),e.Y36(e.sBO),e.Y36(F.R),e.Y36(l.uw))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-my-jobs"]],viewQuery:function(t,i){if(1&t&&e.Gf(J.YE,7),2&t){let n;e.iGM(n=e.CRH())&&(i.sort=n.first)}},decls:30,vars:5,consts:[[1,"flex","flex-col","w-full","mx-6","my-3"],[1,"flex","flex-row","justify-end","w-full","px-4","py-9"],[1,"flex","sm:flex-row","items-end","w-full","max-w-xs","sm:max-w-none"],[1,"fuse-mat-no-subscript","w-full","sm:w-36"],[3,"value","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","gap-8","w-full","mt-4"],[1,"xl:col-span-3","mt-2","flex","flex-col","flex-auto","overflow-hidden"],[1,"overflow-x-auto","mx-6"],["mat-table","","matSort","",1,"w-full","bg-transparent",3,"dataSource"],["matColumnDef","sl"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","placement_type"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","vaccancy_count"],["matColumnDef","application_starts_from"],["matColumnDef","admin"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","",3,"click",4,"ngIf"],["mat-icon-button",""],["svgIcon","mat_outline:visibility"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","",3,"click"],["svgIcon","mat_outline:edit"],["svgIcon","mat_outline:attach_file"],["mat-icon-button","","color","warn",3,"click"],["svgIcon","mat_outline:delete"],["mat-header-row",""],["mat-row",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-select",4),e.NdJ("selectionChange",function(r){return i.filterDataByType(r)}),e.YNc(5,xe,2,2,"mat-option",5),e.qZA()()()(),e.TgZ(6,"div",6)(7,"div",7)(8,"div",8)(9,"table",9),e.ynx(10,10),e.YNc(11,be,2,0,"th",11),e.YNc(12,Ze,2,1,"td",12),e.BQk(),e.ynx(13,13),e.YNc(14,Ae,2,0,"th",11),e.YNc(15,Ce,2,1,"td",12),e.BQk(),e.ynx(16,14),e.YNc(17,Te,2,0,"th",15),e.YNc(18,Me,2,1,"td",12),e.BQk(),e.ynx(19,16),e.YNc(20,we,2,0,"th",15),e.YNc(21,ke,2,1,"td",12),e.BQk(),e.ynx(22,17),e.YNc(23,Je,2,0,"th",15),e.YNc(24,Ne,2,1,"td",12),e.BQk(),e.ynx(25,18),e.YNc(26,Ye,1,0,"th",11),e.YNc(27,qe,6,3,"td",12),e.BQk(),e.YNc(28,Ee,1,0,"tr",19),e.YNc(29,je,1,0,"tr",20),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("value",0),e.xp6(1),e.Q6J("ngForOf",i.jobTypes),e.xp6(4),e.Q6J("dataSource",i.data_source),e.xp6(19),e.Q6J("matHeaderRowDef",i.displayed_columns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayed_columns))},directives:[_.KE,O.gD,p.sg,f.ey,m.BZ,J.YE,m.w1,m.fO,m.ge,m.Dz,m.ev,J.nU,p.O5,h.lW,M.Hw,m.as,m.XQ,m.nj,m.Gk],styles:[""]}),o})()}];let Fe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[I.Bz.forChild(Oe)],I.Bz]}),o})();var Qe=u(2805);let $e=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[p.ez,Fe,Qe.m]]}),o})()}}]);